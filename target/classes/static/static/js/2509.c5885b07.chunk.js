"use strict";(self.webpackChunkcar_wash_management=self.webpackChunkcar_wash_management||[]).push([[2509],{42509:function(e,t,a){a.r(t);var s=a(72791),n=a(61889),r=a(48550),c=a(94294),l=a(79836),i=a(56890),o=a(35855),d=a(53994),m=a(53382),h=a(20068),u=a(13400),p=a(38820),x=a(5397),j=a(23735),Z=a(91923),g=a(29464),v=a(19035),y=a(80184);t.default=function(){const[e,t]=(0,s.useState)({}),[a,f]=(0,s.useState)([]),[w,D]=s.useState(!1),[N,C]=s.useState(""),[k,S]=s.useState(""),[_,b]=(0,s.useState)(null);(0,s.useEffect)((()=>(M(),()=>{t({}),f([])})),[]);const M=async()=>{try{const e=(await(0,v.A_)("/employee/department")).map((e=>({...e,_originalDepartment:e.departmentName})));f(e)}catch(e){console.error(e.message)}},P=async e=>{try{const a=await(0,v.j0)("/employee/department",e);C("Department "+a.departmentName+" created successfully"),S("success"),D(!0),t({}),M(),console.log(a)}catch(a){console.error(a.message),C(a.message),S("info"),D(!0)}};return(0,y.jsxs)("div",{children:[(0,y.jsx)(j.Z,{title:"Department Details",children:(0,y.jsxs)(n.ZP,{container:!0,direction:"row",spacing:Z.dv,children:[(0,y.jsxs)(n.ZP,{item:!0,xs:4,children:[(0,y.jsx)("br",{}),(0,y.jsx)(r.Z,{label:"Department Name",required:!0,variant:"outlined",value:e.departmentName||"",onChange:a=>{const s={...e,departmentName:a.target.value};t(s)}})]}),(0,y.jsxs)(n.ZP,{item:!0,xs:12,children:[(0,y.jsx)("br",{}),(0,y.jsx)("div",{className:"content",children:e.departmentName&&(0,y.jsx)(c.Z,{variant:"contained",color:"error",onClick:()=>(()=>{const t={departmentName:e.departmentName};P(t)})(),children:"Create New Department"})})]}),(0,y.jsx)(n.ZP,{item:!0,xs:12,children:(0,y.jsx)(n.ZP,{item:!0,xs:12,children:(0,y.jsx)("div",{style:{overflowX:"auto"},children:(0,y.jsxs)(l.Z,{children:[(0,y.jsx)(i.Z,{children:(0,y.jsxs)(o.Z,{children:[(0,y.jsx)(d.Z,{children:"Department"}),(0,y.jsx)(d.Z,{children:"Department Count"}),(0,y.jsx)(d.Z,{children:"Action"})]})}),(0,y.jsx)(m.Z,{children:a.map(((e,t)=>(0,y.jsxs)(o.Z,{children:[(0,y.jsx)(d.Z,{children:(0,y.jsx)(r.Z,{variant:"outlined",value:(null===e||void 0===e?void 0:e.departmentName)||"",onChange:e=>((e,t,s)=>{const n=[...a];n[t][s]=e,f(n),b(t)})(e.target.value,t,"departmentName")})}),(0,y.jsx)(d.Z,{children:null===e||void 0===e?void 0:e.laborCount}),(0,y.jsxs)(d.Z,{children:[(0,y.jsx)(h.Z,{arrow:!0,placement:"right",title:"Update",children:(0,y.jsx)(u.Z,{onClick:()=>{(async()=>{if(null===_)return;const e=a[_]._originalDepartment||"",t=a[_].departmentName;try{const a=await(0,v.pw)("/employee/department/"+e+"/"+t,{});C("Department "+a.category+" updated successfully"),S("success"),D(!0),b(null),M()}catch(s){console.error(s.message),C(s.message),S("info"),D(!0)}})()},children:(0,y.jsx)(p.Z,{})})}),(0,y.jsx)(h.Z,{arrow:!0,placement:"right",title:"Delete",children:(0,y.jsx)(u.Z,{onClick:()=>{(async e=>{try{const t=await(0,v.Jl)("/employee/department/"+e);C("Department "+t.category+" deleted successfully"),S("success"),D(!0),M()}catch(t){C(t.message),S("info"),D(!0),console.error(t.message)}})(e.id)},children:(0,y.jsx)(x.Z,{})})})]})]},t)))})]})})})})]})}),w&&(0,y.jsx)(g.Z,{showAlert:w,setShowAlert:D,alertColor:k,alertMess:N})]})}},5397:function(e,t,a){var s=a(76189),n=a(80184);t.Z=(0,s.Z)((0,n.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete")},38820:function(e,t,a){var s=a(76189),n=a(80184);t.Z=(0,s.Z)((0,n.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit")}}]);
//# sourceMappingURL=2509.c5885b07.chunk.js.map