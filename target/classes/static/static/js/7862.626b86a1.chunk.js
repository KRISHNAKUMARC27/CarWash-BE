"use strict";(self.webpackChunkberry_free_material_react_cra=self.webpackChunkberry_free_material_react_cra||[]).push([[7862],{77862:function(e,o,r){r.r(o);var n=r(72791),t=r(93517),a=r(50533),s=r(44713),i=r(44804),l=r(13241),c=r(94294),u=r(95587),d=r.n(u),p=r(19035),m=r(29464),h=r(80184);const b=(0,s.Z)((0,n.lazy)((()=>r.e(8575).then(r.bind(r,88575))))),x=(0,s.Z)((0,n.lazy)((()=>r.e(42).then(r.bind(r,20042)))));o.default=function(e){let{data:o}=e;const r={...o,id:null,estimateObjId:null,invoiceObjId:null,jobId:null,jobStatus:null,jobCreationDate:null,jobCloseDate:null,billGenerated:!1,kiloMeters:null,nextFreeCheckKms:null,nextServiceKms:null},[s,u]=(0,n.useState)("UserDetails"),[v,f]=(0,n.useState)(r||{}),[g,y]=n.useState(!1),[w,Z]=n.useState(""),[j,C]=n.useState(""),[D,N]=n.useState([]);function S(){return v.ownerName&&v.ownerAddress&&v.ownerPhoneNumber}function k(){return v.vehicleRegNo&&v.vehicleName&&v.kiloMeters}(0,n.useEffect)((()=>()=>{f({})}),[]);const M=async e=>{try{const r=await(0,p.j0)("/jobCard",e);if(Z("JobCard "+r.jobId+" for "+r.vehicleRegNo+" created successfully"),C("success"),y(!0),f({}),0===D.length)return void console.log("No photos to upload.");const n=new(d());D.forEach(((e,o)=>{console.log(o),n.file(e.name,e)}));const t=await n.generateAsync({type:"blob"}),a=new FormData;a.append("file",new File([t],"photos.zip",{type:"application/zip"}));try{await(0,p.iV)("/jobCard/uploadPhotos/"+r.id,a),Z("Photos uploaded for "+r.vehicleRegNo+" successfully"),C("success"),y(!0),N([])}catch(o){console.log(o.message),Z(o.message),C("info"),y(!0)}}catch(o){console.log(o.message),Z(o.message),C("info"),y(!0)}};return(0,h.jsxs)("div",{children:[(0,h.jsxs)(t.Z,{"aria-label":"breadcrumb",children:[(0,h.jsxs)(a.Z,{sx:{padding:"5px 15px",cursor:"pointer",textDecoration:"none",color:e=>e.palette.text.primary,borderBottom:S()?"3px solid green":"3px solid orange","&:hover":{color:e=>e.palette.secondary.main}},onClick:()=>u("UserDetails"),children:[(0,h.jsx)(l.Z,{sx:{verticalAlign:"middle",marginRight:"5px"}}),"User Details"]}),(0,h.jsxs)(a.Z,{sx:{padding:"5px 15px",cursor:"pointer",textDecoration:"none",color:e=>e.palette.text.primary,borderBottom:k()?"3px solid green":"3px solid orange","&:hover":{color:e=>e.palette.secondary.main}},onClick:()=>u("CarDetails"),children:[(0,h.jsx)(i.Z,{sx:{verticalAlign:"middle",marginRight:"5px"}}),"Car Details"]})]}),(0,h.jsxs)("div",{className:"content",children:["CarDetails"===s&&(0,h.jsx)(x,{data:v,updateData:f,photos:D,updatePhotos:N}),"UserDetails"===s&&(0,h.jsx)(b,{data:v,updateData:f})]}),(0,h.jsx)("br",{}),(0,h.jsx)("div",{className:"content",children:S()&&k()&&(0,h.jsx)(c.Z,{variant:"contained",color:"error",onClick:()=>{const e={jobStatus:"OPEN",ownerName:v.ownerName,ownerAddress:v.ownerAddress,ownerPhoneNumber:v.ownerPhoneNumber,ownerEmailId:v.ownerEmailId,vehicleRegNo:v.vehicleRegNo,vehicleName:v.vehicleName,kiloMeters:v.kiloMeters};M(e)},children:"Submit JobCard"})}),g&&(0,h.jsx)(m.Z,{showAlert:g,setShowAlert:y,alertColor:j,alertMess:w})]})}},44804:function(e,o,r){var n=r(64836);o.Z=void 0;var t=n(r(45649)),a=r(80184),s=(0,t.default)((0,a.jsx)("path",{d:"M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM7.5 16c-.83 0-1.5-.67-1.5-1.5S6.67 13 7.5 13s1.5.67 1.5 1.5S8.33 16 7.5 16zm9 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM5.81 10l1.04-3h10.29l1.04 3H5.81z"}),"DirectionsCarFilled");o.Z=s},13241:function(e,o,r){var n=r(64836);o.Z=void 0;var t=n(r(45649)),a=r(80184),s=(0,t.default)((0,a.jsx)("path",{d:"M18.39 14.56C16.71 13.7 14.53 13 12 13s-4.71.7-6.39 1.56C4.61 15.07 4 16.1 4 17.22V20h16v-2.78c0-1.12-.61-2.15-1.61-2.66zM12 12c2.21 0 4-1.79 4-4V4.5c0-.83-.67-1.5-1.5-1.5-.52 0-.98.27-1.25.67-.27-.4-.73-.67-1.25-.67s-.98.27-1.25.67c-.27-.4-.73-.67-1.25-.67C8.67 3 8 3.67 8 4.5V8c0 2.21 1.79 4 4 4z"}),"Person4");o.Z=s},50533:function(e,o,r){r.d(o,{Z:function(){return D}});var n=r(63366),t=r(87462),a=r(72791),s=r(63733),i=r(94419),l=r(14036),c=r(66934),u=r(31402),d=r(68221),p=r(42071),m=r(20890),h=r(75878),b=r(21217);function x(e){return(0,b.Z)("MuiLink",e)}var v=(0,h.Z)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),f=r(18529),g=r(12065);const y={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"};var w=e=>{let{theme:o,ownerState:r}=e;const n=(e=>y[e]||e)(r.color),t=(0,f.DW)(o,`palette.${n}`,!1)||r.color,a=(0,f.DW)(o,`palette.${n}Channel`);return"vars"in o&&a?`rgba(${a} / 0.4)`:(0,g.Fq)(t,.4)},Z=r(80184);const j=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],C=(0,c.ZP)(m.Z,{name:"MuiLink",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:r}=e;return[o.root,o[`underline${(0,l.Z)(r.underline)}`],"button"===r.component&&o.button]}})((e=>{let{theme:o,ownerState:r}=e;return(0,t.Z)({},"none"===r.underline&&{textDecoration:"none"},"hover"===r.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===r.underline&&(0,t.Z)({textDecoration:"underline"},"inherit"!==r.color&&{textDecorationColor:w({theme:o,ownerState:r})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===r.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${v.focusVisible}`]:{outline:"auto"}})}));var D=a.forwardRef((function(e,o){const r=(0,u.Z)({props:e,name:"MuiLink"}),{className:c,color:m="primary",component:h="a",onBlur:b,onFocus:v,TypographyClasses:f,underline:g="always",variant:w="inherit",sx:D}=r,N=(0,n.Z)(r,j),{isFocusVisibleRef:S,onBlur:k,onFocus:M,ref:A}=(0,d.Z)(),[z,R]=a.useState(!1),F=(0,p.Z)(o,A),P=(0,t.Z)({},r,{color:m,component:h,focusVisible:z,underline:g,variant:w}),V=(e=>{const{classes:o,component:r,focusVisible:n,underline:t}=e,a={root:["root",`underline${(0,l.Z)(t)}`,"button"===r&&"button",n&&"focusVisible"]};return(0,i.Z)(a,x,o)})(P);return(0,Z.jsx)(C,(0,t.Z)({color:m,className:(0,s.Z)(V.root,c),classes:f,component:h,onBlur:e=>{k(e),!1===S.current&&R(!1),b&&b(e)},onFocus:e=>{M(e),!0===S.current&&R(!0),v&&v(e)},ref:F,ownerState:P,variant:w,sx:[...Object.keys(y).includes(m)?[]:[{color:m}],...Array.isArray(D)?D:[D]]},N))}))}}]);
//# sourceMappingURL=7862.626b86a1.chunk.js.map