"use strict";(self.webpackChunkberry_free_material_react_cra=self.webpackChunkberry_free_material_react_cra||[]).push([[6049],{56049:function(e,a,t){t.r(a);var r=t(72791),s=t(43623),n=t(19035),l=t(61889),i=t(94294),c=t(20890),o=t(2101),d=t(43896),h=t(41985),x=t(97892),m=t.n(x),b=t(35967),u=t(23735),j=t(86930),y=t.n(j),Z=t(80184);m().extend(y()),b.kL.register(b.uw,b.f$,b.ZL,b.Dx,b.u,b.De);a.default=()=>{const[e,a]=(0,r.useState)({}),[t,x]=(0,r.useState)(0),[b,j]=(0,r.useState)(m()().subtract(7,"day")),[y,v]=(0,r.useState)(m()());(0,r.useEffect)((()=>{f("daily",m()().format("YYYY-MM-DD"))}),[]);const f=async(e,t)=>{try{const r=`/invoice/report/${e}/${t}`,s=await(0,n.A_)(r);a(s)}catch(r){console.error("Error fetching invoice data:",r)}};return(0,Z.jsx)(u.Z,{title:"Invoice Report",children:(0,Z.jsxs)(l.ZP,{container:!0,spacing:2,children:[(0,Z.jsx)(l.ZP,{item:!0,lg:5,md:5,sm:5,xs:5,children:(0,Z.jsx)(h.M,{label:"Start Date",value:b,onChange:e=>j(e)})}),(0,Z.jsx)(l.ZP,{item:!0,lg:5,md:5,sm:5,xs:5,children:(0,Z.jsx)(h.M,{label:"End Date",value:y,onChange:e=>v(e)})}),(0,Z.jsx)(l.ZP,{item:!0,lg:2,md:2,sm:2,xs:2,children:(0,Z.jsx)(i.Z,{variant:"contained",color:"primary",onClick:()=>{(async()=>{try{const e=`/invoice/report/daterange?startDate=${b.format("YYYY-MM-DD")}&endDate=${y.format("YYYY-MM-DD")}`,t=await(0,n.A_)(e);a(t)}catch(e){console.error("Error fetching invoice data:",e)}})()},children:"Get Invoice"})}),(0,Z.jsxs)(l.ZP,{item:!0,lg:12,md:12,sm:12,xs:12,children:[(0,Z.jsx)(c.Z,{variant:"h2",children:"Invoice"}),(0,Z.jsxs)(o.Z,{value:t,onChange:(e,a)=>{let t;x(a);const r=m()(),s=r.year(),n=r.month()+1,l=r.format("YYYY-MM-DD"),i=r.isoWeek();switch(a){case 0:t=l;break;case 1:t=`${s}/${i}`;break;case 2:t=`${s}/${n}`;break;case 3:t=`${s}`;break;default:return}f(0===a?"daily":1===a?"weekly":2===a?"monthly":"yearly",t)},children:[(0,Z.jsx)(d.Z,{label:"Daily"}),(0,Z.jsx)(d.Z,{label:"Weekly"}),(0,Z.jsx)(d.Z,{label:"Monthly"}),(0,Z.jsx)(d.Z,{label:"Yearly"})]})]}),(0,Z.jsxs)(l.ZP,{item:!0,xs:12,md:4,children:[(0,Z.jsx)(c.Z,{variant:"h6",children:"Total Invoice Amount"}),(0,Z.jsx)(s.$Q,{data:{labels:["Total Invoice Amount"],datasets:[{label:"Total",data:[e.total||0],backgroundColor:["#3e95cd"]}]}})]}),(0,Z.jsxs)(l.ZP,{item:!0,xs:12,md:4,children:[(0,Z.jsx)(c.Z,{variant:"h6",children:"By Credit Pending Amount"}),(0,Z.jsx)(s.$Q,{data:{labels:["Total Credit Pending Amount"],datasets:[{label:"Credit",data:[e.byCredit||0],backgroundColor:["#8e5ea2"]}]}})]}),(0,Z.jsxs)(l.ZP,{item:!0,xs:12,md:4,children:[(0,Z.jsx)(c.Z,{variant:"h6",children:"Credit/Not Jobs"}),(0,Z.jsx)(s.$Q,{data:(()=>{const a=e.byCredit||{},t=Object.keys(a);return{labels:t,datasets:[{label:"Credit/Not Jobs",data:Object.values(a),backgroundColor:t.map((()=>"#3cba9f"))}]}})()})]})]})})}}}]);
//# sourceMappingURL=6049.dde5bcfe.chunk.js.map