"use strict";(self.webpackChunkcar_wash_management=self.webpackChunkcar_wash_management||[]).push([[4710],{3592:function(e,s,t){t.r(s);var a=t(72791),n=t(61889),l=t(94925),r=t(58406),c=t(23786),d=t(48550),o=t(94294),i=t(23735),u=t(91923),m=t(29464),x=t(19035),h=t(80184);s.default=function(e){let{data:s,setExpenseUpdateOpen:t,fetchAllExpenseData:p}=e;const[g,j]=(0,a.useState)(s||{paymentMode:"CASH"}),[v,y]=(0,a.useState)([]),[Z,C]=(0,a.useState)(!1),[A,f]=(0,a.useState)(""),[b,S]=(0,a.useState)("");(0,a.useEffect)((()=>(w(),()=>{j({}),y([])})),[]),(0,a.useEffect)((()=>{j(s||{paymentMode:"CASH"})}),[s]);const w=async()=>{try{const e=await(0,x.A_)("/expense/expenseCategory");y(e)}catch(e){console.error(e.message)}},E=(e,s)=>{const t={...g,[e]:s};j(t)};return(0,h.jsxs)("div",{children:[(0,h.jsx)(i.Z,{title:"Enter Expense Details",children:(0,h.jsxs)(n.ZP,{container:!0,direction:"row",spacing:u.dv,children:[(0,h.jsxs)(n.ZP,{item:!0,xs:4,children:[(0,h.jsx)(l.Z,{id:"demo-select-small",required:!0,children:"Expense Category"}),(0,h.jsx)(r.Z,{labelId:"demo-select-small",id:"demo-select-small",value:g.type||"",label:"Category Type",onChange:e=>E("type",e.target.value),children:v.map((e=>(0,h.jsx)(c.Z,{value:e.category,children:e.category},e.id)))})]}),(0,h.jsxs)(n.ZP,{item:!0,xs:4,children:[(0,h.jsx)("br",{}),(0,h.jsx)(d.Z,{label:"Desc",required:!0,variant:"standard",value:g.desc||"",onChange:e=>E("desc",e.target.value)})]}),(0,h.jsxs)(n.ZP,{item:!0,xs:3,children:[(0,h.jsx)(l.Z,{id:"demo-select-small",required:!0,children:"Payment Mode"}),(0,h.jsx)(d.Z,{select:!0,variant:"outlined",required:!0,value:g.paymentMode,onChange:e=>E("paymentMode",e.target.value),children:["CASH","UPI","BANK TRANSFER"].map((e=>(0,h.jsx)(c.Z,{value:e,children:e},e)))})]}),(0,h.jsx)(n.ZP,{item:!0,xs:4,children:(0,h.jsx)(d.Z,{label:"Amount",required:!0,variant:"outlined",value:g.expenseAmount||"",onChange:e=>E("expenseAmount",parseFloat(e.target.value)||0),type:"number"})}),(0,h.jsx)(n.ZP,{item:!0,xs:4,children:(0,h.jsx)(d.Z,{label:"Comment",variant:"standard",value:g.comment||"",onChange:e=>E("comment",e.target.value)})})]})}),(0,h.jsx)("br",{}),(0,h.jsx)("div",{className:"content",children:g.type&&g.desc&&g.paymentMode&&g.expenseAmount&&(0,h.jsx)(o.Z,{variant:"contained",color:"error",onClick:()=>(async e=>{try{const s=await(0,x.j0)("/expense",e);p&&p(),t&&t(!1),j({}),f(s.desc+" added successfully "),S("success"),C(!0),console.log(s)}catch(s){console.log(s.message),f(s.message),S("info"),C(!0)}})(g),children:"Add/Update Expense"})}),Z&&(0,h.jsx)(m.Z,{showAlert:Z,setShowAlert:C,alertColor:b,alertMess:A})]})}}}]);
//# sourceMappingURL=4710.eb0dcd22.chunk.js.map