"use strict";(self.webpackChunkcar_wash_management=self.webpackChunkcar_wash_management||[]).push([[8905],{78905:function(e,a,t){t.r(a);var s=t(72791),r=t(43623),n=t(19035),l=t(61889),c=t(94294),d=t(20890),o=t(2101),i=t(43896),m=t(41985),y=t(97892),h=t.n(y),x=t(35967),b=t(23735),j=t(86930),u=t.n(j),Z=t(80184);h().extend(u()),x.kL.register(x.uw,x.f$,x.ZL,x.qi,x.Dx,x.u,x.De);a.default=()=>{const[e,a]=(0,s.useState)({}),[t,y]=(0,s.useState)(0),[x,j]=(0,s.useState)(h()().subtract(7,"day")),[u,g]=(0,s.useState)(h()());(0,s.useEffect)((()=>{k("daily",h()().format("YYYY-MM-DD"))}),[]);const k=async(e,t)=>{try{const s=`/payments/report/${e}/${t}`,r=await(0,n.A_)(s);a(r)}catch(s){console.error("Error fetching payments data:",s)}};return(0,Z.jsx)(b.Z,{title:"Payments Report",children:(0,Z.jsxs)(l.ZP,{container:!0,spacing:2,children:[(0,Z.jsx)(l.ZP,{item:!0,lg:5,md:5,sm:5,xs:5,children:(0,Z.jsx)(m.M,{label:"Start Date",value:x,onChange:e=>j(e)})}),(0,Z.jsx)(l.ZP,{item:!0,lg:5,md:5,sm:5,xs:5,children:(0,Z.jsx)(m.M,{label:"End Date",value:u,onChange:e=>g(e)})}),(0,Z.jsx)(l.ZP,{item:!0,lg:2,md:2,sm:2,xs:2,children:(0,Z.jsx)(c.Z,{variant:"contained",color:"primary",onClick:()=>{(async()=>{try{const e=`/payments/report/daterange?startDate=${x.format("YYYY-MM-DD")}&endDate=${u.format("YYYY-MM-DD")}`,t=await(0,n.A_)(e);a(t)}catch(e){console.error("Error fetching payments data:",e)}})()},children:"Get Payments"})}),(0,Z.jsxs)(l.ZP,{item:!0,lg:12,md:12,sm:12,xs:12,children:[(0,Z.jsx)(d.Z,{variant:"h2",children:"Payments"}),(0,Z.jsxs)(o.Z,{value:t,onChange:(e,a)=>{let t;y(a);const s=h()(),r=s.year(),n=s.month()+1,l=s.format("YYYY-MM-DD"),c=s.isoWeek();switch(a){case 0:t=l;break;case 1:t=`${r}/${c}`;break;case 2:t=`${r}/${n}`;break;case 3:t=`${r}`;break;default:return}k(0===a?"daily":1===a?"weekly":2===a?"monthly":"yearly",t)},children:[(0,Z.jsx)(i.Z,{label:"Daily"}),(0,Z.jsx)(i.Z,{label:"Weekly"}),(0,Z.jsx)(i.Z,{label:"Monthly"}),(0,Z.jsx)(i.Z,{label:"Yearly"})]})]}),(0,Z.jsxs)(l.ZP,{item:!0,xs:4,md:4,children:[(0,Z.jsx)(d.Z,{variant:"h6",children:"Total Payments"}),(0,Z.jsx)(r.$I,{data:{labels:["Total Payments"],datasets:[{label:"Total",data:[e.total||0],backgroundColor:["#3e95cd"]}]}})]}),(0,Z.jsxs)(l.ZP,{item:!0,xs:12,md:8,children:[(0,Z.jsx)(d.Z,{variant:"h6",children:"By Type"}),(0,Z.jsx)(r.$Q,{data:(()=>{const a=e.byType||{},t=Object.keys(a);return{labels:t,datasets:[{label:"Payments by Type",data:Object.values(a),backgroundColor:t.map((()=>"#8e5ea2"))}]}})()})]}),(0,Z.jsxs)(l.ZP,{item:!0,xs:12,md:12,children:[(0,Z.jsx)(d.Z,{variant:"h6",children:"By Payment Mode"}),(0,Z.jsx)(r.$Q,{data:(()=>{const a=e.byPaymentMode||{},t=Object.keys(a);return{labels:t,datasets:[{label:"By Payment Mode",data:Object.values(a),backgroundColor:t.map((()=>"#3cba9f"))}]}})()})]}),(0,Z.jsxs)(l.ZP,{item:!0,xs:12,md:12,children:[(0,Z.jsx)(d.Z,{variant:"h6",children:"Credit vs Regular payments"}),(0,Z.jsx)(r.$Q,{data:(()=>{const a=e.isCredit||{},t=Object.keys(a);return{labels:t,datasets:[{label:"Credit vs Regular",data:Object.values(a),backgroundColor:t.map((()=>"#cdc741"))}]}})()})]})]})})}}}]);
//# sourceMappingURL=8905.11756449.chunk.js.map