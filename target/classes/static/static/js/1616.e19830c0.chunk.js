"use strict";(self.webpackChunkcar_wash_management=self.webpackChunkcar_wash_management||[]).push([[1616,4193],{44193:function(e,t,a){a.r(t);var n=a(72791),s=a(61889),i=a(48550),l=a(49644),o=a(94925),r=a(58406),c=a(23786),d=a(94294),m=a(23735),p=a(91923),u=a(67724),h=a(19035),v=a(97892),f=a.n(v),x=a(29464),Z=a(80184);t.default=function(e){let{data:t,setAppointmentUpdateOpen:a,fetchAllAppointmentData:v}=e;const g=t?{...t,appointmentDateTime:t.appointmentDateTime?f()(t.appointmentDateTime):null}:{},[b,j]=(0,n.useState)(g),[N,D]=(0,n.useState)([]),[E,S]=(0,n.useState)([]),[L,P]=n.useState(!1),[A,w]=n.useState(""),[y,C]=n.useState("");(0,n.useEffect)((()=>(T(),I(),()=>{j({}),D([]),S([])})),[]),(0,n.useEffect)((()=>{console.log(t),j(t?{...t,appointmentDateTime:t.appointmentDateTime?f()(t.appointmentDateTime):null}:{})}),[t]);const T=async()=>{try{const e=await(0,h.A_)("/service");D(e)}catch(e){console.log(e.message)}},I=async()=>{try{const e=await(0,h.A_)("/employee");S(e)}catch(e){console.error(e.message)}},M=(e,t)=>{const a={...b,[e]:t};j(a)};return(0,Z.jsxs)("div",{children:[(0,Z.jsx)(m.Z,{title:"Enter Appointment Details",children:(0,Z.jsxs)(s.ZP,{container:!0,direction:"row",spacing:p.dv,children:[(0,Z.jsxs)(s.ZP,{item:!0,xs:4,children:[(0,Z.jsx)("br",{}),(0,Z.jsx)(i.Z,{label:"Customer Name",required:!0,variant:"standard",value:b.customerName||"",onChange:e=>M("customerName",e.target.value)})]}),(0,Z.jsx)(s.ZP,{item:!0,xs:4,children:(0,Z.jsx)(i.Z,{label:"Phone",required:!0,variant:"outlined",value:b.phone||"",onChange:e=>M("phone",e.target.value)})}),(0,Z.jsx)(s.ZP,{item:!0,xs:4,children:(0,Z.jsx)(l.Z,{options:N,getOptionLabel:e=>e.desc,value:N.find((e=>e.desc===b.service))||null,onChange:(e,t)=>{M("service",t?t.desc:"")},renderInput:e=>(0,Z.jsx)(i.Z,{...e,label:"Select Service",variant:"outlined",fullWidth:!0})})}),(0,Z.jsx)(s.ZP,{item:!0,xs:4,children:(0,Z.jsx)(u.x,{label:"Appointment Date & Time",value:b.appointmentDateTime,onChange:e=>{j({...b,appointmentDateTime:e})},shouldDisableDate:e=>0===e.day(),renderInput:e=>(0,Z.jsx)(i.Z,{...e,fullWidth:!0})})}),(0,Z.jsxs)(s.ZP,{item:!0,xs:4,children:[(0,Z.jsx)(o.Z,{id:"demo-select-small",children:"Status"}),(0,Z.jsx)(r.Z,{labelId:"demo-select-small",id:"demo-select-small",value:b.status||"SCHEDULED",label:"Status",onChange:e=>M("status",e.target.value),children:["SCHEDULED","IN-PROGRESS","COMPLETED","CANCELLED"].map((e=>(0,Z.jsx)(c.Z,{value:e,children:e},e)))})]}),(0,Z.jsxs)(s.ZP,{item:!0,xs:4,children:[(0,Z.jsx)(o.Z,{id:"demo-select-small",children:"Staff"}),(0,Z.jsx)(r.Z,{labelId:"demo-select-small",id:"demo-select-small",value:b.staffName||"",label:"Staff",onChange:e=>M("staffName",e.target.value),children:E.map((e=>(0,Z.jsx)(c.Z,{value:e.name,children:e.name},e.id)))})]}),(0,Z.jsx)(s.ZP,{item:!0,xs:12,children:(0,Z.jsx)(i.Z,{label:"Description",variant:"standard",multiline:!0,fullWidth:!0,value:b.description||"",onChange:e=>M("description",e.target.value)})})]})}),(0,Z.jsx)("br",{}),(0,Z.jsx)("div",{className:"content",children:b.customerName&&b.phone&&b.service&&b.appointmentDateTime&&(0,Z.jsx)(d.Z,{variant:"contained",color:"error",onClick:()=>(async e=>{const t={...e,appointmentDateTime:f()(e.appointmentDateTime).format("YYYY-MM-DDTHH:mm:ss")};try{const e=await(0,h.j0)("/appointments",t);v&&v(),a&&a(!1),w("Created appointment for "+e.customerName),C("success"),P(!0),console.log(e)}catch(n){console.log(n.message),w(n.message),C("info"),P(!0)}})(b),children:"Add/Update Appointment"})}),L&&(0,Z.jsx)(x.Z,{showAlert:L,setShowAlert:P,alertColor:y,alertMess:A})]})}},63466:function(e,t,a){a.d(t,{Z:function(){return N}});var n=a(63366),s=a(87462),i=a(72791),l=a(63733),o=a(94419),r=a(14036),c=a(20890),d=a(93840),m=a(52930),p=a(66934),u=a(75878),h=a(21217);function v(e){return(0,h.Z)("MuiInputAdornment",e)}var f,x=(0,u.Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),Z=a(31402),g=a(80184);const b=["children","className","component","disablePointerEvents","disableTypography","position","variant"],j=(0,p.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t[`position${(0,r.Z)(a.position)}`],!0===a.disablePointerEvents&&t.disablePointerEvents,t[a.variant]]}})((e=>{let{theme:t,ownerState:a}=e;return(0,s.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},"filled"===a.variant&&{[`&.${x.positionStart}&:not(.${x.hiddenLabel})`]:{marginTop:16}},"start"===a.position&&{marginRight:8},"end"===a.position&&{marginLeft:8},!0===a.disablePointerEvents&&{pointerEvents:"none"})}));var N=i.forwardRef((function(e,t){const a=(0,Z.Z)({props:e,name:"MuiInputAdornment"}),{children:p,className:u,component:h="div",disablePointerEvents:x=!1,disableTypography:N=!1,position:D,variant:E}=a,S=(0,n.Z)(a,b),L=(0,m.Z)()||{};let P=E;E&&L.variant,L&&!P&&(P=L.variant);const A=(0,s.Z)({},a,{hiddenLabel:L.hiddenLabel,size:L.size,disablePointerEvents:x,position:D,variant:P}),w=(e=>{const{classes:t,disablePointerEvents:a,hiddenLabel:n,position:s,size:i,variant:l}=e,c={root:["root",a&&"disablePointerEvents",s&&`position${(0,r.Z)(s)}`,l,n&&"hiddenLabel",i&&`size${(0,r.Z)(i)}`]};return(0,o.Z)(c,v,t)})(A);return(0,g.jsx)(d.Z.Provider,{value:null,children:(0,g.jsx)(j,(0,s.Z)({as:h,ownerState:A,className:(0,l.Z)(w.root,u),ref:t},S,{children:"string"!==typeof p||N?(0,g.jsxs)(i.Fragment,{children:["start"===D?f||(f=(0,g.jsx)("span",{className:"notranslate",children:"\u200b"})):null,p]}):(0,g.jsx)(c.Z,{color:"text.secondary",children:p})}))})}))},7883:function(e,t,a){a(72791);var n=a(76189),s=a(80184);t.Z=(0,n.Z)((0,s.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft")},11883:function(e,t,a){a(72791);var n=a(76189),s=a(80184);t.Z=(0,n.Z)((0,s.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight")},89252:function(e,t,a){function n(e,t){e.classList?e.classList.add(t):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}a.d(t,{Z:function(){return n}})},12946:function(e,t,a){function n(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function s(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=n(e.className,t):e.setAttribute("class",n(e.className&&e.className.baseVal||"",t))}a.d(t,{Z:function(){return s}})}}]);
//# sourceMappingURL=1616.e19830c0.chunk.js.map