{"version":3,"file":"static/js/8826.4d6f0860.chunk.js","mappings":"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","sources":["views/spares/SparesCategory.js","../node_modules/@mui/icons-material/esm/Delete.js","../node_modules/@mui/icons-material/esm/Edit.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nimport { Table, TableBody, TableCell, TableHead, TableRow, Button, TextField, Grid, IconButton, Tooltip } from '@mui/material';\r\nimport { Edit, Delete } from '@mui/icons-material';\r\nimport MainCard from 'ui-component/cards/MainCard';\r\nimport { gridSpacing } from 'store/constant';\r\n\r\nimport AlertDialog from 'views/utilities/AlertDialog';\r\nimport { getRequest, deleteRequest, postRequest, putRequestNotStringify } from 'utils/fetchRequest';\r\n\r\nfunction SparesCategory() {\r\n  const [sparesCategory, setSparesCategory] = useState({});\r\n  const [sparesCategoryList, setSparesCategoryList] = useState([]);\r\n  const [showAlert, setShowAlert] = React.useState(false);\r\n  const [alertMess, setAlertMess] = React.useState('');\r\n  const [alertColor, setAlertColor] = React.useState('');\r\n  const [editRowIndex, setEditRowIndex] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchAllSparesCategoryListData();\r\n\r\n    return () => {\r\n      setSparesCategory({});\r\n      setSparesCategoryList([]);\r\n    };\r\n  }, []);\r\n\r\n  const fetchAllSparesCategoryListData = async () => {\r\n    try {\r\n      const data = await getRequest(process.env.REACT_APP_API_URL + '/spares/sparesCategory');\r\n      const enhancedData = data.map((item) => ({\r\n        ...item,\r\n        _originalCategory: item.category\r\n      }));\r\n      setSparesCategoryList(enhancedData);\r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  };\r\n\r\n  function isSparesCategoryComplete() {\r\n    return sparesCategory.category;\r\n  }\r\n\r\n  const submitSparesCategory = () => {\r\n    const sparesCat = {\r\n      category: sparesCategory.category\r\n    };\r\n    saveSparesCategory(sparesCat);\r\n  };\r\n\r\n  const saveSparesCategory = async (payload) => {\r\n    try {\r\n      const data = await postRequest(process.env.REACT_APP_API_URL + '/spares/saveSparesCategory', payload);\r\n      setAlertMess('SparesCategory ' + data.category + ' created successfully');\r\n      setAlertColor('success');\r\n      setShowAlert(true);\r\n      setSparesCategory({});\r\n      fetchAllSparesCategoryListData();\r\n      console.log(data);\r\n    } catch (err) {\r\n      setAlertMess(err.message);\r\n      setAlertColor('info');\r\n      setShowAlert(true);\r\n    }\r\n  };\r\n\r\n  const handleCategoryChange = (event) => {\r\n    const updatedData = { ...sparesCategory, category: event.target.value };\r\n    setSparesCategory(updatedData);\r\n  };\r\n\r\n  const handleRowDelete = async (rowIndex) => {\r\n    try {\r\n      const data = await deleteRequest(process.env.REACT_APP_API_URL + '/spares/sparesCategory/' + rowIndex);\r\n      setAlertMess('SparesCategory ' + data.category + ' deleted successfully');\r\n      setAlertColor('success');\r\n      setShowAlert(true);\r\n      fetchAllSparesCategoryListData();\r\n    } catch (err) {\r\n      setAlertMess(err.message);\r\n      setAlertColor('info');\r\n      setShowAlert(true);\r\n      console.error(err.message);\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (newValue, index, column) => {\r\n    const updatedRows = [...sparesCategoryList];\r\n    updatedRows[index][column] = newValue;\r\n    setSparesCategoryList(updatedRows);\r\n    setEditRowIndex(index); // mark which row is being edited\r\n  };\r\n\r\n  const updateSparesCategory = async () => {\r\n    if (editRowIndex === null) return;\r\n\r\n    const oldCategory = sparesCategoryList[editRowIndex]._originalCategory || '';\r\n    const newCategory = sparesCategoryList[editRowIndex].category;\r\n    try {\r\n      const data = await putRequestNotStringify(\r\n        process.env.REACT_APP_API_URL + '/spares/sparesCategory/' + oldCategory + '/' + newCategory,\r\n        {}\r\n      );\r\n      setAlertMess('SparesCategory ' + data.category + ' updated successfully');\r\n      setAlertColor('success');\r\n      setShowAlert(true);\r\n      setEditRowIndex(null); // reset the edit row index\r\n      fetchAllSparesCategoryListData();\r\n    } catch (err) {\r\n      console.error(err.message);\r\n      setAlertMess(err.message);\r\n      setAlertColor('info');\r\n      setShowAlert(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <MainCard title=\"Spares Category Details\">\r\n        <Grid container direction=\"row\" spacing={gridSpacing}>\r\n          <Grid item xs={4}>\r\n            <br></br>\r\n            <TextField\r\n              label=\"Enter Spares Category\"\r\n              required\r\n              variant=\"outlined\"\r\n              value={sparesCategory.category || ''}\r\n              onChange={handleCategoryChange}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <br></br>\r\n            <div className=\"content\">\r\n              {isSparesCategoryComplete() && (\r\n                <Button variant=\"contained\" color=\"error\" onClick={() => submitSparesCategory()}>\r\n                  Create Spares Category\r\n                </Button>\r\n              )}\r\n            </div>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <Grid item xs={12}>\r\n              <div style={{ overflowX: 'auto' }}>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell>Spares Category</TableCell>\r\n                      <TableCell>Spares Count</TableCell>\r\n                      <TableCell>Action</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    {sparesCategoryList.map((row, index) => (\r\n                      <TableRow key={index}>\r\n                        {/* <TableCell>{row?.category}</TableCell> */}\r\n                        <TableCell>\r\n                          <TextField\r\n                            variant=\"outlined\"\r\n                            value={row?.category || ''}\r\n                            onChange={(e) => handleInputChange(e.target.value, index, 'category')}\r\n                          />\r\n                        </TableCell>\r\n                        <TableCell>{row?.sparesCount}</TableCell>\r\n                        <TableCell>\r\n                          {/* <Button variant=\"contained\" color=\"error\" onClick={() => handleRowDelete(row.id)}>\r\n                            Delete\r\n                          </Button>\r\n                          <Button variant=\"contained\" color=\"error\" onClick={() => updateSparesCategory()}>\r\n                            Update\r\n                          </Button> */}\r\n                          <Tooltip arrow placement=\"right\" title=\"Update\">\r\n                            <IconButton\r\n                              onClick={() => {\r\n                                updateSparesCategory();\r\n                              }}\r\n                            >\r\n                              <Edit />\r\n                            </IconButton>\r\n                          </Tooltip>\r\n                          <Tooltip arrow placement=\"right\" title=\"Delete\">\r\n                            <IconButton\r\n                              onClick={() => {\r\n                                handleRowDelete(row.id);\r\n                              }}\r\n                            >\r\n                              <Delete />\r\n                            </IconButton>\r\n                          </Tooltip>\r\n                        </TableCell>\r\n                      </TableRow>\r\n                    ))}\r\n                  </TableBody>\r\n                </Table>\r\n              </div>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n      </MainCard>\r\n      {showAlert && <AlertDialog showAlert={showAlert} setShowAlert={setShowAlert} alertColor={alertColor} alertMess={alertMess} />}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SparesCategory;\r\n","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"\n}), 'Delete');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"\n}), 'Edit');"],"names":["sparesCategory","setSparesCategory","useState","sparesCategoryList","setSparesCategoryList","showAlert","setShowAlert","React","alertMess","setAlertMess","alertColor","setAlertColor","editRowIndex","setEditRowIndex","useEffect","fetchAllSparesCategoryListData","async","enhancedData","getRequest","map","item","_originalCategory","category","err","console","error","message","saveSparesCategory","data","postRequest","payload","log","_jsxs","children","_jsx","MainCard","title","Grid","container","direction","spacing","gridSpacing","xs","TextField","label","required","variant","value","onChange","event","updatedData","target","className","Button","color","onClick","submitSparesCategory","sparesCat","style","overflowX","Table","TableHead","TableRow","TableCell","TableBody","row","index","e","handleInputChange","newValue","column","updatedRows","sparesCount","Tooltip","arrow","placement","IconButton","oldCategory","newCategory","putRequestNotStringify","updateSparesCategory","Edit","deleteRequest","rowIndex","handleRowDelete","id","Delete","AlertDialog","createSvgIcon","d"],"sourceRoot":""}