"use strict";(self.webpackChunkcar_wash_management=self.webpackChunkcar_wash_management||[]).push([[627],{90627:function(e,s,i){i.r(s);var r=i(72791),a=i(13967),n=i(61979),l=i(5574),t=i(65661),o=i(20890),d=i(20068),c=i(94294),x=i(39157),h=i(61889),u=i(48550),j=i(94721),m=i(44507),Z=i(97123),p=i(68899),P=i(29464),b=i(91923),v=i(19035),g=i(80184);s.default=function(e){let{open:s,onClose:i,job:y}=e;const[f,w]=r.useState({}),[S,C]=r.useState(!1),[O,k]=r.useState("");r.useEffect((()=>(I(y.id),()=>{w({})})),[y]);const I=async e=>{try{const s=await(0,v.A_)("/jobCard/jobSpares/"+e);w(s)}catch(s){console.log(s.message)}},N=r.useMemo((()=>[{accessorKey:"sparesAndLabour",header:"Spares/Services",size:250},{accessorKey:"qty",header:"Quantity",size:100},{accessorKey:"rate",header:"Rate",size:100},{accessorKey:"amount",header:"Amount",size:100}]),[]),R=(0,a.Z)(),A=r.useMemo((()=>(0,n.Z)({palette:{mode:R.palette.mode,primary:R.palette.secondary,info:{main:"rgb(255,122,0)"},background:{default:"rgba(0, 0, 0, 0)"}},typography:{button:{textTransform:"none",fontSize:"1.2rem"}},components:{MuiTooltip:{styleOverrides:{tooltip:{fontSize:"1.1rem"}}},MuiSwitch:{styleOverrides:{thumb:{color:"pink"}}}}})),[R]),T="#faf4f3",V="#f2f0f6";return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(l.Z,{open:s,onClose:i,"aria-labelledby":"data-row-dialog-title",fullWidth:!0,maxWidth:"lg",children:[(0,g.jsx)(t.Z,{id:"data-row-dialog-title",children:(0,g.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[(0,g.jsx)(o.Z,{variant:"h4",children:"JobCard: "+y.jobId+" VehicleNo.: "+y.vehicleRegNo}),(0,g.jsx)(d.Z,{title:"Print Bill",children:(0,g.jsx)(c.Z,{onClick:async()=>{try{const e=await(0,v.$R)("/jobCard/billPdf/"+y.id),s=window.URL.createObjectURL(e),i=document.createElement("a");i.href=s,i.setAttribute("download","Bill_"+y.jobId+"_"+y.vehicleRegNo+".pdf"),document.body.appendChild(i),i.click(),i.parentNode.removeChild(i)}catch(e){console.log(e.message),k(e.message),C(!0)}},children:"Print Bill"})})]})}),(0,g.jsxs)(x.Z,{dividers:!0,style:{backgroundColor:"white",color:"black"},children:[" ",(0,g.jsxs)(h.ZP,{container:!0,direction:"row",spacing:b.dv,children:[(0,g.jsx)(h.ZP,{item:!0,xs:12,children:(0,g.jsxs)(h.ZP,{container:!0,direction:"row",spacing:b.dv,children:[(0,g.jsx)(h.ZP,{item:!0,xs:6,children:(0,g.jsx)(u.Z,{label:"Owner Name",variant:"outlined",value:y.ownerName||"",InputProps:{readOnly:!0}})}),(0,g.jsx)(h.ZP,{item:!0,xs:6,children:(0,g.jsx)(u.Z,{label:"Owner PhoneNumber",variant:"outlined",value:y.ownerPhoneNumber||"",InputProps:{readOnly:!0}})}),(0,g.jsx)(h.ZP,{item:!0,xs:8,children:(0,g.jsx)(u.Z,{label:"Owner Address",fullWidth:!0,margin:"dense",multiline:!0,variant:"outlined",value:y.ownerAddress||"",InputProps:{readOnly:!0}})})]})}),(0,g.jsx)(h.ZP,{item:!0,xs:12,children:(0,g.jsx)(j.Z,{})}),(0,g.jsx)(h.ZP,{item:!0,xs:12,children:(0,g.jsxs)(h.ZP,{container:!0,direction:"row",spacing:b.dv,children:[(0,g.jsx)(h.ZP,{item:!0,xs:4,children:(0,g.jsx)(u.Z,{label:"Vehicle Reg. No.",variant:"outlined",value:y.vehicleRegNo||"",InputProps:{readOnly:!0}})}),(0,g.jsx)(h.ZP,{item:!0,xs:4,children:(0,g.jsx)(u.Z,{label:"Vehicle Name",variant:"outlined",value:y.vehicleName||"",InputProps:{readOnly:!0}})}),(0,g.jsx)(h.ZP,{item:!0,xs:4,children:(0,g.jsx)(u.Z,{label:"Vehicle K.Ms",variant:"outlined",value:y.kiloMeters||"",InputProps:{readOnly:!0}})})]})}),(0,g.jsx)(h.ZP,{item:!0,xs:12,children:(0,g.jsx)(j.Z,{})}),(0,g.jsx)(h.ZP,{item:!0,xs:12,children:(0,g.jsx)(j.Z,{})}),(0,g.jsx)(h.ZP,{item:!0,xs:12,children:(0,g.jsx)(m.Z,{theme:A,children:(0,g.jsx)(p.P2,{columns:N,data:f.jobSparesInfo||[],muiTablePaperProps:{elevation:0,sx:{borderRadius:"0",background:`linear-gradient(195deg, ${T}, ${V})`}}})})}),(0,g.jsx)(h.ZP,{item:!0,xs:12,children:(0,g.jsx)(j.Z,{})}),(0,g.jsx)(h.ZP,{item:!0,xs:12,children:(0,g.jsx)(j.Z,{})}),(0,g.jsx)(h.ZP,{item:!0,xs:12,children:(0,g.jsx)(m.Z,{theme:A,children:(0,g.jsx)(p.P2,{columns:N,data:f.jobServiceInfo||[],muiTablePaperProps:{elevation:0,sx:{borderRadius:"0",background:`linear-gradient(195deg, ${T}, ${V})`}}})})}),(0,g.jsx)(h.ZP,{item:!0,xs:12,children:(0,g.jsx)(j.Z,{})}),(0,g.jsx)(h.ZP,{item:!0,xs:12,children:(0,g.jsx)(j.Z,{})}),(0,g.jsx)(h.ZP,{item:!0,xs:12,children:(0,g.jsxs)(h.ZP,{container:!0,direction:"row",spacing:b.dv,children:[(0,g.jsx)(h.ZP,{item:!0,xs:4,children:(0,g.jsx)(u.Z,{label:"Total Spares Value",variant:"outlined",value:f.totalSparesValue||"",InputProps:{readOnly:!0}})}),(0,g.jsx)(h.ZP,{item:!0,xs:4,children:(0,g.jsx)(u.Z,{label:"Total Service Value",variant:"outlined",value:f.totalServiceValue||"",InputProps:{readOnly:!0}})}),(0,g.jsx)(h.ZP,{item:!0,xs:4,children:(0,g.jsx)(u.Z,{label:"Grand Total",variant:"outlined",value:f.grandTotal||"",InputProps:{readOnly:!0}})})]})})]})]}),(0,g.jsx)(Z.Z,{children:(0,g.jsx)(c.Z,{onClick:i,children:"Close"})})]}),S&&(0,g.jsx)(P.Z,{showAlert:S,setShowAlert:C,alertColor:"info",alertMess:O})]})}}}]);
//# sourceMappingURL=627.892413a2.chunk.js.map