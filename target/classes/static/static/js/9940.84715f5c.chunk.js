"use strict";(self.webpackChunkcar_wash_management=self.webpackChunkcar_wash_management||[]).push([[9940],{92903:function(e,t,s){s.r(t),s.d(t,{default:function(){return C}});var n=s(72791),a=s(68899),r=s(13967),i=s(61979),o=s(44507),c=s(64554),l=s(20068),d=s(13400),p=s(5574),m=s(39157),h=s(61889),u=s(94721),x=s(20890),g=s(97123),j=s(94294),b=s(38820),f=s(91923),y=s(44713),Z=s(19035),v=s(67748),w=(s(45852),s(72426)),k=s.n(w),A=s(80184);const P=(0,v.Zt)(k());var z=e=>{let{appointments:t,setAppointment:s,setAppointmentUpdateOpen:n}=e;const a=t.map((e=>({title:`${e.customerName} - ${e.service}`,start:new Date(e.appointmentDateTime),end:new Date(new Date(e.appointmentDateTime).getTime()+36e5),resource:e})));return(0,A.jsx)("div",{style:{height:600},children:(0,A.jsx)(v.f,{localizer:P,events:a,startAccessor:"start",endAccessor:"end",views:["month","week","day","agenda"],onSelectEvent:e=>{s(e.resource),n(!0)},eventPropGetter:e=>{let t="blue";switch(e.resource.status){case"IN-PROGRESS":t="orange";break;case"COMPLETED":t="green";break;case"CANCELLED":t="red"}return{style:{backgroundColor:t}}}})})};const S=(0,y.Z)((0,n.lazy)((()=>Promise.all([s.e(2915),s.e(7724),s.e(4193)]).then(s.bind(s,44193)))));var C=()=>{const[e,t]=(0,n.useState)([]),[s,y]=(0,n.useState)({}),[v,w]=(0,n.useState)(!1);(0,n.useEffect)((()=>(P(),()=>{t([])})),[]);const k=()=>{w(!1)},P=async()=>{try{const e=await(0,Z.A_)("/appointments");t(e)}catch(e){console.error(e.message)}},C=(0,n.useMemo)((()=>[{accessorKey:"customerName",header:"Name",size:100},{accessorKey:"phone",header:"Phone",size:100},{accessorKey:"vehicleRegNo",header:"Vehicle Reg.No",size:100},{accessorKey:"appointmentDateTime",header:"AppointmentTime",size:200},{accessorKey:"service",header:"Service",size:150},{accessorKey:"description",header:"Description",size:200},{accessorKey:"staffName",header:"Staff",size:100},{accessorKey:"status",header:"Status",size:100,filterVariant:"multi-select"}]),[]),D=(0,r.Z)(),N=(0,n.useMemo)((()=>(0,i.Z)({palette:{mode:D.palette.mode,primary:D.palette.secondary,info:{main:"rgb(255,122,0)"},background:{default:"rgba(0, 0, 0, 0)"}},typography:{button:{textTransform:"none",fontSize:"1.2rem"}},components:{MuiTooltip:{styleOverrides:{tooltip:{fontSize:"1.1rem"}}},MuiSwitch:{styleOverrides:{thumb:{color:"pink"}}}}})),[D]);return(0,A.jsxs)("div",{children:[(0,A.jsx)(z,{appointments:e,setAppointment:y,setAppointmentUpdateOpen:w}),(0,A.jsxs)(o.Z,{theme:N,children:[(0,A.jsx)(a.P2,{columns:C,data:e,enableFacetedValues:!0,editingMode:"modal",enableEditing:!0,muiTablePaperProps:{elevation:0,sx:{borderRadius:"0",background:"linear-gradient(195deg, #e2d7d5, #ab9ec4)"}},renderRowActions:e=>{let{row:t}=e;return(0,A.jsx)(c.Z,{sx:{display:"flex",gap:"1rem"},children:(0,A.jsx)(l.Z,{arrow:!0,placement:"left",title:"Update Appointment Info",children:(0,A.jsx)(d.Z,{onClick:()=>{w(!1),console.log(t.original),y(t.original),w(!0)},children:(0,A.jsx)(b.Z,{})})})})}})," "]}),(0,A.jsx)("br",{}),(0,A.jsxs)(p.Z,{open:v,onClose:k,"aria-labelledby":"data-row-dialog-title",fullWidth:!0,maxWidth:"lg",children:[(0,A.jsxs)(m.Z,{dividers:!0,style:{backgroundColor:"white",color:"black"},children:[" ",(0,A.jsx)(h.ZP,{container:!0,spacing:f.dv,children:(0,A.jsx)(h.ZP,{item:!0,xs:12,children:(0,A.jsxs)(h.ZP,{container:!0,spacing:f.dv,children:[(0,A.jsx)(h.ZP,{item:!0,xs:12,children:(0,A.jsx)(u.Z,{})}),(0,A.jsx)(h.ZP,{item:!0,xs:12,children:(0,A.jsx)(x.Z,{variant:"h2",children:"Updating Appointment: "+s.customerName})}),(0,A.jsx)(h.ZP,{item:!0,xs:12,children:(0,A.jsx)(S,{data:s,setAppointmentUpdateOpen:w,fetchAllAppointmentData:P})})]})})})]}),(0,A.jsx)(g.Z,{children:(0,A.jsx)(j.Z,{onClick:k,children:"Close"})})]}),(0,A.jsx)("br",{})]})}}}]);
//# sourceMappingURL=9940.84715f5c.chunk.js.map