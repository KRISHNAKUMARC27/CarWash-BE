"use strict";(self.webpackChunkcar_wash_management=self.webpackChunkcar_wash_management||[]).push([[2803],{62803:function(e,t,n){n.r(t),n.d(t,{default:function(){return oe}});var s=n(72791),r=n(39281),i=n(35527),a=n(79836),o=n(56890),c=n(35855),l=n(53994),d=n(53382),h=n(61889),x=n(20890),m=n(5574),j=n(39157),Z=n(94721),p=n(97123),u=n(94294),g=n(97892),b=n.n(g),v=n(66934),y=n(13967),P=n(64554),f=n(93044),k=n(13496),S=n(23735);var C={type:"line",height:90,options:{chart:{sparkline:{enabled:!0}},dataLabels:{enabled:!1},colors:["#fff"],fill:{type:"solid",opacity:1},stroke:{curve:"smooth",width:3},yaxis:{min:2e3,max:1e5},tooltip:{theme:"dark",fixed:{enabled:!1},x:{show:!1},y:{title:"Total Order"},marker:{show:!1}}},series:[{name:"series1",data:[0,44,9,54,45,66,41,69]}]},w=n(61084),z=n(19035),A=n(80184);const D=(0,v.ZP)(S.Z)((e=>{let{theme:t}=e;return{backgroundColor:t.palette.primary.dark,color:"#fff",overflow:"hidden",position:"relative","&>div":{position:"relative",zIndex:5},"&:after":{content:'""',position:"absolute",width:210,height:210,background:t.palette.primary[800],borderRadius:"50%",zIndex:1,top:-85,right:-95,[t.breakpoints.down("sm")]:{top:-105,right:-140}},"&:before":{content:'""',position:"absolute",zIndex:1,width:210,height:210,background:t.palette.primary[800],borderRadius:"50%",top:-125,right:-15,opacity:.5,[t.breakpoints.down("sm")]:{top:-155,right:-70}}}}));var E=function(){const e=(0,y.Z)(),[t,n]=(0,s.useState)(),[r,i]=(0,s.useState)(C),[a,o]=(0,s.useState)("D"),[c,l]=(0,s.useState)(!1);(0,s.useEffect)((()=>(d("D"),()=>{n()})),[]);const d=async e=>{try{const t=await(0,z.A_)("/stats/revenueEarnings/"+e);n(t),i(t.chartData),l(!0)}catch(t){console.error(t.message)}},m=e=>{switch(e){case"D":default:l(!1),d("D");break;case"W":l(!1),d("W");break;case"M":l(!1),d("M");break;case"Y":l(!1),d("Y")}o(e)};return(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(D,{border:!1,content:!1,children:(0,A.jsx)(P.Z,{sx:{p:2.25},children:(0,A.jsxs)(h.ZP,{container:!0,direction:"column",children:[(0,A.jsx)(h.ZP,{item:!0,children:(0,A.jsxs)(h.ZP,{container:!0,justifyContent:"space-between",children:[(0,A.jsx)(h.ZP,{item:!0,children:(0,A.jsx)(f.Z,{variant:"rounded",sx:{...e.typography.commonAvatar,...e.typography.largeAvatar,backgroundColor:e.palette.primary[800],color:"#fff",mt:1},children:(0,A.jsx)(w.Z,{fontSize:"inherit"})})}),(0,A.jsxs)(h.ZP,{item:!0,children:[(0,A.jsx)(u.Z,{disableElevation:!0,variant:"D"===a?"contained":"text",size:"small",sx:{color:"inherit",mr:1},onClick:()=>m("D"),children:"Day"}),(0,A.jsx)(u.Z,{disableElevation:!0,variant:"W"===a?"contained":"text",size:"small",sx:{color:"inherit",mr:1},onClick:()=>m("W"),children:"Week"}),(0,A.jsx)(u.Z,{disableElevation:!0,variant:"M"===a?"contained":"text",size:"small",sx:{color:"inherit",mr:1},onClick:()=>m("M"),children:"Month"}),(0,A.jsx)(u.Z,{disableElevation:!0,variant:"Y"===a?"contained":"text",size:"small",sx:{color:"inherit"},onClick:()=>m("Y"),children:"Year"})]})]})}),(0,A.jsx)(h.ZP,{item:!0,sx:{mb:.75},children:(0,A.jsxs)(h.ZP,{container:!0,alignItems:"center",children:[(0,A.jsx)(h.ZP,{item:!0,xs:6,children:(0,A.jsxs)(h.ZP,{container:!0,alignItems:"center",children:[(0,A.jsx)(h.ZP,{item:!0,children:c&&(0,A.jsx)(x.Z,{sx:{fontSize:"2.125rem",fontWeight:500,mr:1,mt:1.75,mb:.75},children:t.grandTotalSum})}),(0,A.jsx)(h.ZP,{item:!0,xs:12,children:(0,A.jsx)(x.Z,{sx:{fontSize:"1rem",fontWeight:500,color:e.palette.primary[200]},children:"Total Revenue"})})]})}),(0,A.jsx)(h.ZP,{item:!0,xs:6,children:c&&(0,A.jsx)(k.Z,{...r})})]})})]})})})})},W=n(80670);const I=(0,v.ZP)(S.Z)((e=>{let{theme:t}=e;return{backgroundColor:t.palette.secondary.dark,color:"#fff",overflow:"hidden",position:"relative","&>div":{position:"relative",zIndex:5},"&:after":{content:'""',position:"absolute",width:210,height:210,background:t.palette.secondary[800],borderRadius:"50%",zIndex:1,top:-85,right:-95,[t.breakpoints.down("sm")]:{top:-105,right:-140}},"&:before":{content:'""',position:"absolute",zIndex:1,width:210,height:210,background:t.palette.secondary[800],borderRadius:"50%",top:-125,right:-15,opacity:.5,[t.breakpoints.down("sm")]:{top:-155,right:-70}}}}));var J=function(){const e=(0,y.Z)(),[t,n]=(0,s.useState)(),[r,i]=(0,s.useState)(C),[a,o]=(0,s.useState)("D"),[c,l]=(0,s.useState)(!1);(0,s.useEffect)((()=>(d("D"),()=>{n()})),[]);const d=async e=>{try{const t=await(0,z.A_)("/stats/totalJobCards/"+e);n(t),i(t.chartData),l(!0)}catch(t){console.error(t.message)}},m=e=>{switch(e){case"D":default:l(!1),d("D");break;case"W":l(!1),d("W");break;case"M":l(!1),d("M");break;case"Y":l(!1),d("Y")}o(e)};return(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(I,{border:!1,content:!1,children:(0,A.jsx)(P.Z,{sx:{p:2.25},children:(0,A.jsxs)(h.ZP,{container:!0,direction:"column",children:[(0,A.jsx)(h.ZP,{item:!0,children:(0,A.jsxs)(h.ZP,{container:!0,justifyContent:"space-between",children:[(0,A.jsx)(h.ZP,{item:!0,children:(0,A.jsx)(f.Z,{variant:"rounded",sx:{...e.typography.commonAvatar,...e.typography.largeAvatar,backgroundColor:e.palette.secondary[800],color:"#fff",mt:1},children:(0,A.jsx)(W.Z,{fontSize:"inherit"})})}),(0,A.jsxs)(h.ZP,{item:!0,children:[(0,A.jsx)(u.Z,{disableElevation:!0,variant:"D"===a?"contained":"text",size:"small",sx:{color:"inherit",mr:1},onClick:()=>m("D"),children:"Day"}),(0,A.jsx)(u.Z,{disableElevation:!0,variant:"W"===a?"contained":"text",size:"small",sx:{color:"inherit",mr:1},onClick:()=>m("W"),children:"Week"}),(0,A.jsx)(u.Z,{disableElevation:!0,variant:"M"===a?"contained":"text",size:"small",sx:{color:"inherit",mr:1},onClick:()=>m("M"),children:"Month"}),(0,A.jsx)(u.Z,{disableElevation:!0,variant:"Y"===a?"contained":"text",size:"small",sx:{color:"inherit"},onClick:()=>m("Y"),children:"Year"})]})]})}),(0,A.jsx)(h.ZP,{item:!0,sx:{mb:.75},children:(0,A.jsxs)(h.ZP,{container:!0,alignItems:"center",children:[(0,A.jsx)(h.ZP,{item:!0,xs:6,children:(0,A.jsxs)(h.ZP,{container:!0,alignItems:"center",children:[(0,A.jsx)(h.ZP,{item:!0,children:c&&(0,A.jsx)(x.Z,{sx:{fontSize:"2.125rem",fontWeight:500,mr:1,mt:1.75,mb:.75},children:t.totalJobCards})}),(0,A.jsx)(h.ZP,{item:!0,xs:12,children:(0,A.jsx)(x.Z,{sx:{fontSize:"1rem",fontWeight:500,color:e.palette.secondary[200]},children:"Total JobCards"})})]})}),(0,A.jsx)(h.ZP,{item:!0,xs:6,children:c&&(0,A.jsx)(k.Z,{...r})})]})})]})})})})},M=n(90493),T=n(15021),Y=n(20653),R=n(49900),_=n(88196);const F=(0,v.ZP)(S.Z)((e=>{let{theme:t}=e;return{backgroundColor:t.palette.secondary.dark,color:t.palette.secondary.light,overflow:"hidden",position:"relative","&:after":{content:'""',position:"absolute",width:210,height:210,background:`linear-gradient(210.04deg, ${t.palette.primary[200]} -50.94%, rgba(144, 202, 249, 0) 83.49%)`,borderRadius:"50%",top:-30,right:-180},"&:before":{content:'""',position:"absolute",width:210,height:210,background:`linear-gradient(140.9deg, ${t.palette.primary[200]} -14.02%, rgba(144, 202, 249, 0) 77.58%)`,borderRadius:"50%",top:-160,right:-130}}}));var N=e=>{let{totalJobCards:t,name:n}=e;const s=(0,y.Z)();return(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(F,{border:!1,content:!1,children:(0,A.jsx)(P.Z,{sx:{p:2},children:(0,A.jsx)(M.Z,{sx:{py:0},children:(0,A.jsxs)(T.ZP,{alignItems:"center",disableGutters:!0,sx:{py:0},children:[(0,A.jsx)(Y.Z,{children:(0,A.jsx)(f.Z,{variant:"rounded",sx:{...s.typography.commonAvatar,...s.typography.largeAvatar,backgroundColor:s.palette.secondary[800],color:"#fff"},children:(0,A.jsx)(_.Z,{fontSize:"inherit"})})}),(0,A.jsx)(R.Z,{sx:{py:0,mt:.45,mb:.45},primary:(0,A.jsx)(x.Z,{variant:"h4",sx:{color:"#fff"},children:t}),secondary:(0,A.jsx)(x.Z,{variant:"subtitle2",sx:{color:"secondary.light",mt:.25},children:n})})]})})})})})},O=n(20068),$=n(13400),L=n(5397),U=n(91923),X=n(29464);const B=(0,v.ZP)(S.Z)((e=>{let{theme:t}=e;return{overflow:"hidden",position:"relative","&:after":{content:'""',position:"absolute",width:210,height:210,background:`linear-gradient(210.04deg, ${t.palette.success.dark} -50.94%, rgba(144, 202, 249, 0) 83.49%)`,borderRadius:"50%",top:-30,right:-180},"&:before":{content:'""',position:"absolute",width:210,height:210,background:`linear-gradient(140.9deg, ${t.palette.success.dark} -14.02%, rgba(144, 202, 249, 0) 70.50%)`,borderRadius:"50%",top:-160,right:-130}}}));var G=function(){const[e,t]=(0,s.useState)([]),[n,r]=s.useState(!1),[i,x]=s.useState(""),[m,j]=s.useState("");(0,s.useEffect)((()=>(Z(),()=>{t([])})),[]);const Z=async()=>{try{const e=await(0,z.A_)("/stats/sparesEvents");t(e)}catch(e){console.error(e.message)}};return(0,A.jsxs)("div",{children:[(0,A.jsx)(B,{border:!1,content:!1,children:(0,A.jsx)(S.Z,{title:"Spares Inventory Shortage",children:(0,A.jsx)(h.ZP,{container:!0,direction:"row",spacing:U.dv,children:(0,A.jsx)(h.ZP,{item:!0,xs:12,children:(0,A.jsx)(h.ZP,{item:!0,xs:12,children:(0,A.jsx)("div",{style:{overflowX:"auto"},children:(0,A.jsxs)(a.Z,{children:[(0,A.jsx)(o.Z,{children:(0,A.jsxs)(c.Z,{children:[(0,A.jsx)(l.Z,{children:"Shortage Events"}),(0,A.jsx)(l.Z,{children:"Event Time"}),(0,A.jsx)(l.Z,{children:"Action"})]})}),(0,A.jsx)(d.Z,{children:e.map(((e,n)=>(0,A.jsxs)(c.Z,{children:[(0,A.jsx)(l.Z,{children:null===e||void 0===e?void 0:e.notif}),(0,A.jsx)(l.Z,{children:null===e||void 0===e?void 0:e.time}),(0,A.jsx)(l.Z,{children:(0,A.jsx)(O.Z,{arrow:!0,placement:"right",title:"Delete",children:(0,A.jsx)($.Z,{onClick:()=>{(async e=>{try{const n=await(0,z.Jl)("/stats/sparesEvents/"+e);x("Spares Event deleted successfully"),j("success"),r(!0),t(n)}catch(n){x(n.message),j("info"),r(!0)}})(e.id)},children:(0,A.jsx)(L.Z,{})})})})]},n)))})]})})})})})})}),n&&(0,A.jsx)(X.Z,{showAlert:n,setShowAlert:r,alertColor:m,alertMess:i})]})},q=n(48550),H=n(23786);var K={height:480,type:"bar",options:{chart:{id:"bar-chart",stacked:!0,toolbar:{show:!0},zoom:{enabled:!0}},responsive:[{breakpoint:480,options:{legend:{position:"bottom",offsetX:-10,offsetY:0}}}],plotOptions:{bar:{horizontal:!1,columnWidth:"50%"}},xaxis:{type:"category",categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},legend:{show:!0,fontSize:"14px",fontFamily:"'Roboto', sans-serif",position:"bottom",offsetX:20,labels:{useSeriesColors:!1},markers:{width:16,height:16,radius:5},itemMargin:{horizontal:15,vertical:8}},fill:{type:"solid"},dataLabels:{enabled:!1},grid:{show:!0}},series:[{name:"Investment",data:[35,125,35,35,35,80,35,20,35,45,15,75]},{name:"Loss",data:[35,15,15,35,65,40,80,25,15,85,25,75]},{name:"Profit",data:[35,145,35,35,20,105,100,10,65,45,30,10]},{name:"Maintenance",data:[0,0,75,0,0,115,0,0,0,0,150,0]}]};var Q=e=>{let{yearArray:t}=e;const[n,r]=(0,s.useState)(),[i,a]=(0,s.useState)(K),[o,c]=(0,s.useState)(b()().year().toString()),[l,d]=(0,s.useState)(!1);(0,s.useEffect)((()=>(m(b()().year().toString()),()=>{r()})),[]);const m=async e=>{try{const t=await(0,z.A_)("/stats/yearlyBarStatsJobCards/"+e);r(t),a(t.chartData),d(!0)}catch(t){console.error(t.message)}};return(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(S.Z,{children:(0,A.jsxs)(h.ZP,{container:!0,spacing:U.dv,children:[(0,A.jsx)(h.ZP,{item:!0,xs:12,children:(0,A.jsxs)(h.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,A.jsx)(h.ZP,{item:!0,children:(0,A.jsxs)(h.ZP,{container:!0,direction:"column",spacing:1,children:[(0,A.jsx)(h.ZP,{item:!0,children:(0,A.jsx)(x.Z,{variant:"h2",children:"Total JobCards Completed"})}),(0,A.jsx)(h.ZP,{item:!0,children:l&&(0,A.jsx)(x.Z,{variant:"h3",children:n.totalTestCases})})]})}),(0,A.jsx)(h.ZP,{item:!0,children:(0,A.jsx)(q.Z,{id:"standard-select-currency",select:!0,value:o,onChange:e=>{return t=e.target.value,d(!1),m(t),void c(t);var t},children:t.map((e=>(0,A.jsx)(H.Z,{value:e.value,children:e.label},e.value)))})})]})}),(0,A.jsx)(h.ZP,{item:!0,xs:12,children:l&&(0,A.jsx)(k.Z,{...i})})]})})})};var V=e=>{let{yearArray:t}=e;const[n,r]=(0,s.useState)(),[i,a]=(0,s.useState)(K),[o,c]=(0,s.useState)(b()().year().toString()),[l,d]=(0,s.useState)(!1);(0,s.useEffect)((()=>(m(b()().year().toString()),()=>{r()})),[]);const m=async e=>{try{const t=await(0,z.A_)("/stats/yearlyBarStatsTotalRevenue/"+e);r(t),a(t.chartData),d(!0)}catch(t){console.error(t.message)}};return(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(S.Z,{children:(0,A.jsxs)(h.ZP,{container:!0,spacing:U.dv,children:[(0,A.jsx)(h.ZP,{item:!0,xs:12,children:(0,A.jsxs)(h.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,A.jsx)(h.ZP,{item:!0,children:(0,A.jsxs)(h.ZP,{container:!0,direction:"column",spacing:1,children:[(0,A.jsx)(h.ZP,{item:!0,children:(0,A.jsx)(x.Z,{variant:"h2",children:"Total Job Revenue"})}),(0,A.jsx)(h.ZP,{item:!0,children:l&&(0,A.jsx)(x.Z,{variant:"h3",children:n.totalTestCases})})]})}),(0,A.jsx)(h.ZP,{item:!0,children:(0,A.jsx)(q.Z,{id:"standard-select-currency",select:!0,value:o,onChange:e=>{return t=e.target.value,d(!1),m(t),void c(t);var t},children:t.map((e=>(0,A.jsx)(H.Z,{value:e.value,children:e.label},e.value)))})})]})}),(0,A.jsx)(h.ZP,{item:!0,xs:12,children:l&&(0,A.jsx)(k.Z,{...i})})]})})})};var ee=e=>{let{yearArray:t}=e;const[n,r]=(0,s.useState)(),[i,a]=(0,s.useState)(K),[o,c]=(0,s.useState)(b()().year().toString()),[l,d]=(0,s.useState)(!1);(0,s.useEffect)((()=>(m(b()().year().toString()),()=>{r()})),[]);const m=async e=>{try{const t=await(0,z.A_)("/stats/yearlyStatsEarningSplit/"+e);r(t),console.log(t),a(t.chartData),d(!0)}catch(t){console.error(t.message)}};return(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(S.Z,{children:(0,A.jsxs)(h.ZP,{container:!0,spacing:U.dv,children:[(0,A.jsx)(h.ZP,{item:!0,xs:12,children:(0,A.jsxs)(h.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,A.jsx)(h.ZP,{item:!0,children:(0,A.jsxs)(h.ZP,{container:!0,direction:"column",spacing:1,children:[(0,A.jsx)(h.ZP,{item:!0,children:(0,A.jsx)(x.Z,{variant:"h2",children:"Job Revenue Split"})}),(0,A.jsx)(h.ZP,{item:!0,children:l&&(0,A.jsx)(x.Z,{variant:"h3",children:n.totalTestCases})})]})}),(0,A.jsx)(h.ZP,{item:!0,children:(0,A.jsx)(q.Z,{id:"standard-select-currency",select:!0,value:o,onChange:e=>{return t=e.target.value,d(!1),m(t),void c(t);var t},children:t.map((e=>(0,A.jsx)(H.Z,{value:e.value,children:e.label},e.value)))})})]})}),(0,A.jsx)(h.ZP,{item:!0,xs:12,children:l&&(0,A.jsx)(k.Z,{...i})})]})})})},te=n(44713);const ne=(0,v.ZP)(S.Z)((e=>{let{theme:t}=e;return{backgroundColor:t.palette.primary.dark,color:"#fff",overflow:"hidden",position:"relative","&>div":{position:"relative",zIndex:5},"&:after":{content:'""',position:"absolute",width:210,height:210,background:t.palette.primary[800],borderRadius:"50%",zIndex:1,top:-85,right:-95,[t.breakpoints.down("sm")]:{top:-105,right:-140}},"&:before":{content:'""',position:"absolute",zIndex:1,width:210,height:210,background:t.palette.primary[800],borderRadius:"50%",top:-125,right:-15,opacity:.5,[t.breakpoints.down("sm")]:{top:-155,right:-70}}}}));var se=function(){const e=(0,y.Z)(),[t,n]=(0,s.useState)(),[r,i]=(0,s.useState)(C),[a,o]=(0,s.useState)("D"),[c,l]=(0,s.useState)(!1);(0,s.useEffect)((()=>(d("D"),()=>{n()})),[]);const d=async e=>{try{const t=await(0,z.A_)("/stats/revenueExpenses/"+e);n(t),i(t.chartData),l(!0)}catch(t){console.error(t.message)}},m=e=>{switch(e){case"D":default:l(!1),d("D");break;case"W":l(!1),d("W");break;case"M":l(!1),d("M");break;case"Y":l(!1),d("Y")}o(e)};return(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(ne,{border:!1,content:!1,children:(0,A.jsx)(P.Z,{sx:{p:2.25},children:(0,A.jsxs)(h.ZP,{container:!0,direction:"column",children:[(0,A.jsx)(h.ZP,{item:!0,children:(0,A.jsxs)(h.ZP,{container:!0,justifyContent:"space-between",children:[(0,A.jsx)(h.ZP,{item:!0,children:(0,A.jsx)(f.Z,{variant:"rounded",sx:{...e.typography.commonAvatar,...e.typography.largeAvatar,backgroundColor:e.palette.primary[800],color:"#fff",mt:1},children:(0,A.jsx)(w.Z,{fontSize:"inherit"})})}),(0,A.jsxs)(h.ZP,{item:!0,children:[(0,A.jsx)(u.Z,{disableElevation:!0,variant:"D"===a?"contained":"text",size:"small",sx:{color:"inherit",mr:1},onClick:()=>m("D"),children:"Day"}),(0,A.jsx)(u.Z,{disableElevation:!0,variant:"W"===a?"contained":"text",size:"small",sx:{color:"inherit",mr:1},onClick:()=>m("W"),children:"Week"}),(0,A.jsx)(u.Z,{disableElevation:!0,variant:"M"===a?"contained":"text",size:"small",sx:{color:"inherit",mr:1},onClick:()=>m("M"),children:"Month"}),(0,A.jsx)(u.Z,{disableElevation:!0,variant:"Y"===a?"contained":"text",size:"small",sx:{color:"inherit"},onClick:()=>m("Y"),children:"Year"})]})]})}),(0,A.jsx)(h.ZP,{item:!0,sx:{mb:.75},children:(0,A.jsxs)(h.ZP,{container:!0,alignItems:"center",children:[(0,A.jsx)(h.ZP,{item:!0,xs:6,children:(0,A.jsxs)(h.ZP,{container:!0,alignItems:"center",children:[(0,A.jsx)(h.ZP,{item:!0,children:c&&(0,A.jsx)(x.Z,{sx:{fontSize:"2.125rem",fontWeight:500,mr:1,mt:1.75,mb:.75},children:t.grandTotalSum})}),(0,A.jsx)(h.ZP,{item:!0,xs:12,children:(0,A.jsx)(x.Z,{sx:{fontSize:"1rem",fontWeight:500,color:e.palette.primary[200]},children:"Total Expenses"})})]})}),(0,A.jsx)(h.ZP,{item:!0,xs:6,children:c&&(0,A.jsx)(k.Z,{...r})})]})})]})})})})};const re=(0,te.Z)((0,s.lazy)((()=>Promise.all([n.e(2915),n.e(7724),n.e(8522)]).then(n.bind(n,44193))))),ie=b()().year(),ae=Array.from({length:6},((e,t)=>{const n=ie-t;return{value:n.toString(),label:n.toString()}}));var oe=()=>{const[e,t]=(0,s.useState)(0),[n,g]=(0,s.useState)([]),[b,v]=(0,s.useState)(!1),y=JSON.parse(localStorage.getItem("roles")||"[]"),[P,f]=(0,s.useState)({}),[k,S]=(0,s.useState)(!1);(0,s.useEffect)((()=>{C(),w()}),[]);const C=async()=>{try{const e=await(0,z.A_)("/stats/totalJobCards");t(e),v(!0)}catch(e){console.error(e.message)}},w=async()=>{try{const e=await(0,z.A_)("/appointments/upcoming");g(e)}catch(e){console.error(e.message)}},D=()=>{S(!1)},W=()=>(0,A.jsx)(r.Z,{component:i.Z,children:(0,A.jsxs)(a.Z,{children:[(0,A.jsx)(o.Z,{children:(0,A.jsxs)(c.Z,{children:[(0,A.jsx)(l.Z,{children:"Appointment Date & Time"}),(0,A.jsx)(l.Z,{children:"Customer Name"}),(0,A.jsx)(l.Z,{children:"Phone"}),(0,A.jsx)(l.Z,{children:"Service"}),(0,A.jsx)(l.Z,{children:"Status"})]})}),(0,A.jsx)(d.Z,{children:n.map((e=>(0,A.jsxs)(c.Z,{onClick:()=>(e=>{f(e),S(!0)})(e),style:{cursor:"pointer"},children:[(0,A.jsx)(l.Z,{children:e.appointmentDateTime}),(0,A.jsx)(l.Z,{children:e.customerName}),(0,A.jsx)(l.Z,{children:e.phone}),(0,A.jsx)(l.Z,{children:e.service}),(0,A.jsx)(l.Z,{children:e.status})]},e.id)))})]})});return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(h.ZP,{container:!0,spacing:U.dv,children:[n.length>0&&(0,A.jsxs)(h.ZP,{item:!0,xs:12,children:[(0,A.jsx)(x.Z,{variant:"h4",children:"Upcoming Appointments"}),W()]}),(0,A.jsx)(h.ZP,{item:!0,xs:12,children:(0,A.jsxs)(h.ZP,{container:!0,spacing:U.dv,children:[(0,A.jsx)(h.ZP,{item:!0,lg:4,md:12,sm:12,xs:12,children:(0,A.jsx)(J,{})}),(0,A.jsx)(h.ZP,{item:!0,lg:4,md:12,sm:12,xs:12,children:(0,A.jsxs)(h.ZP,{container:!0,spacing:U.dv,children:[(0,A.jsx)(h.ZP,{item:!0,sm:6,xs:12,md:6,lg:12,children:b&&(0,A.jsx)(N,{totalJobCards:e.total,name:"Total JobCards"})}),(0,A.jsx)(h.ZP,{item:!0,sm:6,xs:12,md:6,lg:12,children:b&&(0,A.jsx)(N,{totalJobCards:e.open,name:"Total Open JobCards"})})]})}),(0,A.jsx)(h.ZP,{item:!0,lg:4,md:12,sm:12,xs:12,children:(0,A.jsxs)(h.ZP,{container:!0,spacing:U.dv,children:[(0,A.jsx)(h.ZP,{item:!0,sm:6,xs:12,md:6,lg:12,children:b&&(0,A.jsx)(N,{totalJobCards:e.closed,name:"Total Closed JobCards"})}),(0,A.jsx)(h.ZP,{item:!0,sm:6,xs:12,md:6,lg:12,children:b&&(0,A.jsx)(N,{totalJobCards:e.cancelled,name:"Total Cancelled JobCards"})})]})})]})}),y.includes("ADMIN")&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(h.ZP,{item:!0,xs:12,children:(0,A.jsxs)(h.ZP,{container:!0,spacing:U.dv,children:[(0,A.jsx)(h.ZP,{item:!0,lg:4,md:12,sm:12,xs:12,children:(0,A.jsx)(E,{})}),(0,A.jsx)(h.ZP,{item:!0,lg:4,md:12,sm:12,xs:12,children:(0,A.jsx)(se,{})}),(0,A.jsx)(h.ZP,{item:!0,lg:4,md:12,sm:12,xs:12})]})}),(0,A.jsx)(h.ZP,{item:!0,xs:6,children:(0,A.jsx)(h.ZP,{container:!0,spacing:U.dv,children:(0,A.jsx)(h.ZP,{item:!0,xs:12,md:12,children:(0,A.jsx)(ee,{yearArray:ae})})})}),(0,A.jsx)(h.ZP,{item:!0,xs:6,children:(0,A.jsx)(h.ZP,{container:!0,spacing:U.dv,children:(0,A.jsx)(h.ZP,{item:!0,xs:12,md:12,children:(0,A.jsx)(V,{yearArray:ae})})})})]}),(0,A.jsx)(h.ZP,{item:!0,xs:12,children:(0,A.jsx)(h.ZP,{container:!0,spacing:U.dv,children:(0,A.jsx)(h.ZP,{item:!0,xs:12,md:12,children:(0,A.jsx)(Q,{yearArray:ae})})})}),(0,A.jsx)(h.ZP,{item:!0,xs:12,children:(0,A.jsx)(h.ZP,{container:!0,spacing:U.dv,children:(0,A.jsx)(h.ZP,{item:!0,xs:12,md:12,children:(0,A.jsx)(G,{})})})}),(0,A.jsx)(h.ZP,{item:!0,xs:12,children:(0,A.jsx)(h.ZP,{container:!0,spacing:U.dv,children:(0,A.jsx)(h.ZP,{item:!0,xs:12,md:12,children:W()})})})]}),(0,A.jsxs)(m.Z,{open:k,onClose:D,"aria-labelledby":"data-row-dialog-title",fullWidth:!0,maxWidth:"lg",children:[(0,A.jsxs)(j.Z,{dividers:!0,style:{backgroundColor:"white",color:"black"},children:[" ",(0,A.jsx)(h.ZP,{container:!0,spacing:U.dv,children:(0,A.jsx)(h.ZP,{item:!0,xs:12,children:(0,A.jsxs)(h.ZP,{container:!0,spacing:U.dv,children:[(0,A.jsx)(h.ZP,{item:!0,xs:12,children:(0,A.jsx)(Z.Z,{})}),(0,A.jsx)(h.ZP,{item:!0,xs:12,children:(0,A.jsx)(x.Z,{variant:"h2",children:"Updating Appointment: "+P.customerName})}),(0,A.jsx)(h.ZP,{item:!0,xs:12,children:(0,A.jsx)(re,{data:P,setAppointmentUpdateOpen:S,fetchAllAppointmentData:w})})]})})})]}),(0,A.jsx)(p.Z,{children:(0,A.jsx)(u.Z,{onClick:D,children:"Close"})})]})]})}}}]);
//# sourceMappingURL=2803.1b485c9c.chunk.js.map