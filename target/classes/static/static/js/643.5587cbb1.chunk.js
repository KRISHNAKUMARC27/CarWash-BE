"use strict";(self.webpackChunkcar_wash_management=self.webpackChunkcar_wash_management||[]).push([[643],{90643:function(e,a,t){t.r(a);var s=t(72791),l=t(61889),r=t(94925),n=t(58406),i=t(23786),c=t(48550),o=t(94294),d=t(23735),u=t(91923),h=t(29464),x=t(19035),v=t(80184);a.default=function(e){let{data:a,setSparesUpdateOpen:t,fetchAllSparesData:g}=e;const[m,j]=(0,s.useState)(a||{}),[p,Z]=(0,s.useState)([]),[b,y]=s.useState(!1),[C,P]=s.useState(""),[f,S]=s.useState("");(0,s.useEffect)((()=>(q(),()=>{j({}),Z([])})),[]),(0,s.useEffect)((()=>{j(a||{})}),[a]);const q=async()=>{try{const e=await(0,x.A_)("/spares/sparesCategory");Z(e)}catch(e){console.error(e.message)}};return(0,v.jsxs)("div",{children:[(0,v.jsx)(d.Z,{title:"Enter Spares Details",children:(0,v.jsxs)(l.ZP,{container:!0,direction:"row",spacing:u.dv,children:[(0,v.jsxs)(l.ZP,{item:!0,xs:3,children:[(0,v.jsx)(r.Z,{id:"demo-select-small",required:!0,children:"Category Type"}),(0,v.jsx)(n.Z,{labelId:"demo-select-small",id:"demo-select-small",value:m.category||"",label:"Category Type",onChange:e=>{const a={...m,category:e.target.value};j(a)},children:p.map((e=>(0,v.jsx)(i.Z,{value:e.category,children:e.category},e.id)))})]}),(0,v.jsxs)(l.ZP,{item:!0,xs:3,children:[(0,v.jsx)("br",{}),(0,v.jsx)(c.Z,{label:"PartNo./Type",required:!0,variant:"outlined",value:m.partNumber||"",onChange:e=>{const a={...m,partNumber:e.target.value};j(a)}})]}),(0,v.jsxs)(l.ZP,{item:!0,xs:6,children:[(0,v.jsx)("br",{}),(0,v.jsx)(c.Z,{label:"Spares Description",required:!0,variant:"standard",fullWidth:!0,value:m.desc||"",onChange:e=>{const a={...m,desc:e.target.value};j(a)}})]}),(0,v.jsx)(l.ZP,{item:!0,xs:4,children:(0,v.jsx)(c.Z,{label:"Quantity",required:!0,variant:"outlined",value:m.qty||"",onChange:e=>{const a=e.target.value,t=parseFloat(a)*(parseFloat(m.sellRate)||0),s=parseFloat(t.toFixed(2)),l={...m,qty:a,amount:isNaN(s)?"":s};j(l)}})}),(0,v.jsx)(l.ZP,{item:!0,xs:4,children:(0,v.jsx)(c.Z,{label:"Minimum Threshold",required:!0,variant:"outlined",value:m.minThresh||"",onChange:e=>{const a={...m,minThresh:e.target.value};j(a)}})}),(0,v.jsx)(l.ZP,{item:!0,xs:4,children:(0,v.jsx)(c.Z,{label:"Purchase Rate",required:!0,variant:"outlined",value:m.purchaseRate||"",onChange:e=>{const a={...m,purchaseRate:e.target.value};j(a)}})}),(0,v.jsx)(l.ZP,{item:!0,xs:4,children:(0,v.jsx)(c.Z,{label:"Sell Rate",required:!0,variant:"outlined",value:m.sellRate||"",onChange:e=>{const a=e.target.value,t=(parseFloat(a)||0)*parseFloat(m.qty||0),s=parseFloat(t.toFixed(2)),l={...m,sellRate:a,amount:isNaN(s)?"":s};j(l)}})}),(0,v.jsx)(l.ZP,{item:!0,xs:4,children:(0,v.jsx)(c.Z,{label:"CGST",required:!0,variant:"outlined",value:m.cgst||"",onChange:e=>{const a={...m,cgst:e.target.value};j(a)}})}),(0,v.jsx)(l.ZP,{item:!0,xs:4,children:(0,v.jsx)(c.Z,{label:"SGST",required:!0,variant:"outlined",value:m.sgst||"",onChange:e=>{const a={...m,sgst:e.target.value};j(a)}})}),(0,v.jsx)(l.ZP,{item:!0,xs:4,children:(0,v.jsx)(c.Z,{label:"Amount",variant:"standard",value:m.amount||"",InputProps:{readOnly:!0}})}),(0,v.jsx)(l.ZP,{item:!0,xs:4,children:(0,v.jsx)(c.Z,{label:"Rack/Bin",variant:"standard",fullWidth:!0,value:m.rack||"",onChange:e=>{const a={...m,rack:e.target.value};j(a)}})}),(0,v.jsx)(l.ZP,{item:!0,xs:4,children:(0,v.jsx)(c.Z,{label:"Misc 1",variant:"standard",fullWidth:!0,value:m.misc1||"",onChange:e=>{const a={...m,misc1:e.target.value};j(a)}})}),(0,v.jsx)(l.ZP,{item:!0,xs:4,children:(0,v.jsx)(c.Z,{label:"Units",variant:"standard",fullWidth:!0,value:m.misc2||"",onChange:e=>{const a={...m,misc2:e.target.value};j(a)}})}),(0,v.jsx)(l.ZP,{item:!0,xs:4,children:(0,v.jsx)(c.Z,{label:"MRP",variant:"standard",fullWidth:!0,value:m.misc3||"",onChange:e=>{const a={...m,misc3:e.target.value};j(a)}})})]})}),(0,v.jsx)("br",{}),(0,v.jsx)("div",{className:"content",children:m.category&&m.partNumber&&m.desc&&null!==m.purchaseRate&&void 0!==m.purchaseRate&&null!==m.qty&&void 0!==m.qty&&null!==m.sellRate&&void 0!==m.sellRate&&null!==m.cgst&&void 0!==m.cgst&&null!==m.sgst&&void 0!==m.sgst&&null!==m.amount&&void 0!==m.amount&&m.minThresh&&(0,v.jsx)(o.Z,{variant:"contained",color:"error",onClick:()=>(async e=>{try{const a=await(0,x.j0)("/spares",e);g&&g(),t&&t(!1),j({}),P(a.desc+" added successfully "),S("success"),y(!0),console.log(a)}catch(a){console.log(a.message),P(a.message),S("info"),y(!0)}})(m),children:"Add/Update Spares"})}),b&&(0,v.jsx)(h.Z,{showAlert:b,setShowAlert:y,alertColor:f,alertMess:C})]})}}}]);
//# sourceMappingURL=643.5587cbb1.chunk.js.map