"use strict";(self.webpackChunkcar_wash_management=self.webpackChunkcar_wash_management||[]).push([[8826],{38826:function(e,s,a){a.r(s);var r=a(72791),t=a(61889),c=a(48550),n=a(94294),o=a(79836),l=a(56890),i=a(35855),d=a(53994),h=a(53382),g=a(20068),u=a(13400),x=a(38820),y=a(5397),j=a(23735),Z=a(91923),p=a(29464),C=a(19035),v=a(80184);s.default=function(){const[e,s]=(0,r.useState)({}),[a,m]=(0,r.useState)([]),[f,S]=r.useState(!1),[w,k]=r.useState(""),[_,b]=r.useState(""),[M,P]=(0,r.useState)(null);(0,r.useEffect)((()=>(z(),()=>{s({}),m([])})),[]);const z=async()=>{try{const e=(await(0,C.A_)("/spares/sparesCategory")).map((e=>({...e,_originalCategory:e.category})));m(e)}catch(e){console.error(e.message)}},A=async e=>{try{const a=await(0,C.j0)("/spares/saveSparesCategory",e);k("SparesCategory "+a.category+" created successfully"),b("success"),S(!0),s({}),z(),console.log(a)}catch(a){k(a.message),b("info"),S(!0)}};return(0,v.jsxs)("div",{children:[(0,v.jsx)(j.Z,{title:"Spares Category Details",children:(0,v.jsxs)(t.ZP,{container:!0,direction:"row",spacing:Z.dv,children:[(0,v.jsxs)(t.ZP,{item:!0,xs:4,children:[(0,v.jsx)("br",{}),(0,v.jsx)(c.Z,{label:"Enter Spares Category",required:!0,variant:"outlined",value:e.category||"",onChange:a=>{const r={...e,category:a.target.value};s(r)}})]}),(0,v.jsxs)(t.ZP,{item:!0,xs:12,children:[(0,v.jsx)("br",{}),(0,v.jsx)("div",{className:"content",children:e.category&&(0,v.jsx)(n.Z,{variant:"contained",color:"error",onClick:()=>(()=>{const s={category:e.category};A(s)})(),children:"Create Spares Category"})})]}),(0,v.jsx)(t.ZP,{item:!0,xs:12,children:(0,v.jsx)(t.ZP,{item:!0,xs:12,children:(0,v.jsx)("div",{style:{overflowX:"auto"},children:(0,v.jsxs)(o.Z,{children:[(0,v.jsx)(l.Z,{children:(0,v.jsxs)(i.Z,{children:[(0,v.jsx)(d.Z,{children:"Spares Category"}),(0,v.jsx)(d.Z,{children:"Spares Count"}),(0,v.jsx)(d.Z,{children:"Action"})]})}),(0,v.jsx)(h.Z,{children:a.map(((e,s)=>(0,v.jsxs)(i.Z,{children:[(0,v.jsx)(d.Z,{children:(0,v.jsx)(c.Z,{variant:"outlined",value:(null===e||void 0===e?void 0:e.category)||"",onChange:e=>((e,s,r)=>{const t=[...a];t[s][r]=e,m(t),P(s)})(e.target.value,s,"category")})}),(0,v.jsx)(d.Z,{children:null===e||void 0===e?void 0:e.sparesCount}),(0,v.jsxs)(d.Z,{children:[(0,v.jsx)(g.Z,{arrow:!0,placement:"right",title:"Update",children:(0,v.jsx)(u.Z,{onClick:()=>{(async()=>{if(null===M)return;const e=a[M]._originalCategory||"",s=a[M].category;try{const a=await(0,C.pw)("/spares/sparesCategory/"+e+"/"+s,{});k("SparesCategory "+a.category+" updated successfully"),b("success"),S(!0),P(null),z()}catch(r){console.error(r.message),k(r.message),b("info"),S(!0)}})()},children:(0,v.jsx)(x.Z,{})})}),(0,v.jsx)(g.Z,{arrow:!0,placement:"right",title:"Delete",children:(0,v.jsx)(u.Z,{onClick:()=>{(async e=>{try{const s=await(0,C.Jl)("/spares/sparesCategory/"+e);k("SparesCategory "+s.category+" deleted successfully"),b("success"),S(!0),z()}catch(s){k(s.message),b("info"),S(!0),console.error(s.message)}})(e.id)},children:(0,v.jsx)(y.Z,{})})})]})]},s)))})]})})})})]})}),f&&(0,v.jsx)(p.Z,{showAlert:f,setShowAlert:S,alertColor:_,alertMess:w})]})}},5397:function(e,s,a){var r=a(76189),t=a(80184);s.Z=(0,r.Z)((0,t.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete")},38820:function(e,s,a){var r=a(76189),t=a(80184);s.Z=(0,r.Z)((0,t.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit")}}]);
//# sourceMappingURL=8826.4d6f0860.chunk.js.map