<!DOCTYPE html>
<html>
<head>
<style>
table {
	width: 100%;
	border-collapse: collapse;
}

td, th {
	border: 1px solid black;
	padding: 5px;
	text-align: left;
}

.header-row {
	position: relative;
	/* Ensure absolute children are positioned relative to this parent */
	height: 50px; /* Adjust height as needed */
}

.gstin {
	position: absolute;
	top: 5px;
	left: 5px;
	font-weight: bold;
}

.cell {
	position: absolute;
	top: 5px;
	right: 5px;
}

/* Remove row borders inside nested-table */
.nested-table tbody tr td {
	border-top: none !important;
	border-bottom: none !important;
	height: 15px;
	font-size: 15px;
	line-height: 0.5;
}

/* Keep only the table's outer border */
.nested-table {
	border: 1px solid black;
}

/* Ensure table headers retain their bottom border */
.nested-table thead th {
	border-bottom: 1px solid black;
}

.collapse-table {
	width: 100%;
	border-collapse: collapse;
}

/* Restrict styles only to immediate children of .collapse-table */
.collapse-table>tbody>tr>td, .collapse-table>tbody>tr>th {
	border-top: none;
	border-bottom: none;
	border-left: 1px solid black;
	border-right: 1px solid black;
	padding: 5px;
	text-align: left;
}

/* Remove border-left for the first column */
.collapse-table>tbody>tr>td:first-child, .collapse-table>tbody>tr>th:first-child
	{
	border-left: none;
}

/* Remove border-right for the last column */
.collapse-table>tbody>tr>td:last-child, .collapse-table>tbody>tr>th:last-child
	{
	border-right: none;
}

.header {
	margin-top: 7px;
	text-align: center;
	font-size: 24px;
	font-weight: bolder;
	font-family: 'Times New Roman', Times, serif;
	line-height: 1.0;
}

.titleAddress {
	text-align: center;
	font-size: 14px;
	font-weight: 550;
	font-family: Arial, Helvetica, sans-serif;
	line-height: 1.0;
	margin-top: -10px;
	margin-bottom: 0px;
}

.termsConditions {
	text-align: left;
	font-size: 8px;
	font-weight: 550;
	font-family: Arial, Helvetica, sans-serif;
	line-height: 0.7;
}

.page-break {
    page-break-before: always;
}

</style>
</head>
<body>
	<p style="text-align: center; margin-bottom: 0px;">INVOICE</p>
	<table>
		<tr class="header-row">
			<td colspan="2">
				<div class="gstin">GSTIN: 33DDKPP5663N1ZU</div>
				<div class="cell">Cell: +91 8870688606</div>
				<div>
					<p class="header">CAR SQUARE</p>
					<p class="titleAddress">
						1/320, VEPPAMPALAYAM, VALLAIPURATHANPALAYAM,<br></br>KADIRAMPATTAI
						(po), ERODE - 638 107<br></br> Tamil Nadu (State Code - 33)
					</p>
				</div>
			</td>
		</tr>
		<tr>
			<td colspan="2">
				<table class="collapse-table ">
					<!-- <thead>
						<tr>
							<th>Nested Header 1</th>
							<th>Nested Header 2</th>
							<th>Nested Header 3</th>
						</tr>
					</thead> -->
					<tbody>
						<tr>
							<td style="width: 33%;"><strong>To:</strong><span
								th:text="${ownerName}"></span></td>
							<td style="width: 33%;"><strong>KMs:</strong><span
								th:text="${kms}"></span></td>
							<td
								style="width: 33%; display: flex; justify-content: space-between; align-items: center;">
								<strong style="flex: 1; text-align: left;">Invoice No</strong> <span
								style="flex: 0; text-align: center;">:</span> <span
								style="flex: 1; text-align: right;" th:text="${invoiceNo}"></span>
							</td>

						</tr>
						<tr>
							<td style="width: 33%;"><strong>Vehicle No:</strong><span
								th:text="${vehNo}"></span></td>
							<td style="width: 33%;"><strong>Next Free Check
									KMs:</strong><span th:text="${nextFreeCheckKms}"></span></td>
							<td
								style="width: 33%; display: flex; justify-content: space-between; align-items: center;">
								<strong style="flex: 1; text-align: left;">Date</strong> <span
								style="flex: 0; text-align: center;">:</span> <span
								style="flex: 1; text-align: right;" th:text="${date}"></span>
							</td>
						</tr>
						<tr>
							<td style="width: 33%;"><strong>Model:</strong><span
								th:text="${vehicle}"></span></td>
							<td style="width: 33%;"><strong>Next Service KMs:</strong><span
								th:text="${nextServiceKms}"></span></td>
							<td style="width: 33%;"><strong>Mode:</strong><span
								th:text="${mode}"></span></td>
						</tr>
					</tbody>
				</table>
			</td>

		</tr>

		<!-- Row 3: Nested table -->
		<tr>
			<td colspan="2">
				<table class="nested-table">
					<thead>
						<tr>
							<th style="width: 5%;">SNo</th>
							<th style="width: 50%;">Product Name</th>
							<th style="width: 10%;">HSN</th>
							<th style="width: 5%;">Qty</th>
							<th style="width: 10%;">Rate</th>
							<th style="width: 5%;">GST</th>
							<th style="width: 5%;">Discount</th>
							<th style="width: 10%;">Amount</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="product, indexStat : ${products}">
							<td th:text="${product.sno}"></td>
							<td th:text="${product.name}"></td>
							<td th:text="${product.hsnCode}"></td>
							<td th:text="${product.qty}"></td>
							<td th:text="${product.rate}"></td>
							<td th:text="${product.gst}"></td>
							<td th:text="${product.discount}"></td>
							<td th:text="${product.amount}"></td>
						</tr>
					</tbody>
				</table>
			</td>
		</tr>
		<div class="page-break" th:if="${pagebreak}"></div>
		
		<tr>
			<td colspan="2">
				<table class="collapse-table">
					<tbody>
						<tr>
							<td style="width: 70%; font-size: 12px;">
								<table class="nested-table">
									<thead>
										<tr>
											<th style="width: 20%;">Taxable Value</th>
											<th style="width: 5%;">CGST</th>
											<th style="width: 20%;">Cgst.Amt</th>
											<th style="width: 5%;">SGST</th>
											<th style="width: 20%;">Sgst.Amt</th>
											<th style="width: 10%;">Net %</th>
											<th style="width: 20%;">Amount</th>
										</tr>
									</thead>
									<tbody>
										<tr th:each="tax : ${taxDetails}">
											<td th:text="${tax.taxableValue}"></td>
											<td th:text="${tax.cgstPercent}"></td>
											<td th:text="${tax.cgstAmt}"></td>
											<td th:text="${tax.sgstPercent}"></td>
											<td th:text="${tax.sgstAmt}"></td>
											<td th:text="${tax.netPercent}"></td>
											<td th:text="${tax.amount}"></td>
										</tr>
									</tbody>
								</table>
							</td>
							<td style="width: 30%;">
								<table class="collapse-table ">
									<tbody>
										<tr>
											<td style="width: 33%; text-align: right;"><strong>Total
													Tax Amt: </strong><span th:text="${totalTaxAmt}"></span></td>
										</tr>
										<tr>
											<td style="width: 33%; text-align: right;"><strong>Rounding
													:</strong><span th:text="${roundOff}"></span></td>
										</tr>
									</tbody>
								</table>
							</td>
						</tr>
					</tbody>
				</table>
			</td>
		</tr>
		<tr>
			<td colspan="2"
				style="width: 100%; text-align: right; font-size: 24px; font-weight: bolder;">Net
				Amount : <span th:text="${netAmount}"></span>
			</td>
		</tr>
		<tr>
			<td colspan="2"
				style="width: 100%; text-align: left; font-size: 18px; font-weight: bolder;">Amount
				in Words: <span th:text="${amountInWords}"></span>
			</td>
		</tr>
		<tr>
			<td colspan="2">
				<table class="collapse-table">
					<tbody>
						<tr>
							<td style="width: 10%;"><strong>Bank</strong></td>
							<td style="width: 90%;">KARUR VYSYA BANK</td>
						</tr>
						<tr>
							<td style="width: 10%;"><strong>A/C No</strong></td>
							<td style="width: 90%;">1217135000002223</td>
						</tr>
						<tr>
							<td style="width: 10%;"><strong>Branch</strong></td>
							<td style="width: 90%;">METTUKADAI</td>
						</tr>
						<tr>
							<td style="width: 10%;"><strong>IFSC</strong></td>
							<td style="width: 90%;">KVBL0001217</td>
						</tr>
					</tbody>
				</table>
			</td>
		</tr>
		<tr>
			<td colspan="2">
				<table class="collapse-table">
					<tbody>
						<tr>
							<td style="width: 70%; font-size: 12px;">
								<table class="collapse-table ">
									<tbody class="termsConditions">
										<tr>
											<td style="width: 25%;"><strong>TERMS AND
													CONDITIONS </strong></td>
										</tr>
										<tr>
											<td style="width: 25%;">1. No claims are entertained
												unless brought to our notice in writing within two days on
												reciept of goods</td>
										</tr>
										<tr>
											<td style="width: 25%;">2. Interest at 24% will be
												charged on overdue payment -- Payment within 7 days</td>
										</tr>
										<tr>
											<td style="width: 25%;">3. We are not responsible for
												breakage or damage in transit</td>
										</tr>
										<tr>
											<td style="width: 25%;">4. Transit insurance if any is
												to be taken by the buyer</td>
										</tr>
										<tr>
											<td style="width: 25%;">5. Subject to Erode jurisdiction</td>
										</tr>
									</tbody>
								</table>
							</td>
							<td style="width: 30%;">
								<table class="collapse-table ">
									<tbody>
										<tr>
											<td style="width: 25%; text-align: right;"><strong>For
													CAR SQUARE </strong></td>
										</tr>
										<tr>
											<td style="width: 25%; text-align: right;"></td>
										</tr>
										<tr>
											<td style="width: 25%; text-align: right;"></td>
										</tr>
										<tr>
											<td style="width: 25%; text-align: right;"><strong>Authorised
													Signature </strong></td>
										</tr>
									</tbody>
								</table>
							</td>
						</tr>
					</tbody>
				</table>
			</td>
		</tr>
	</table>
</body>
</html>
