"use strict";(self.webpackChunkberry_free_material_react_cra=self.webpackChunkberry_free_material_react_cra||[]).push([[627],{90627:function(e,r,s){s.r(r);var i=s(72791),a=s(13967),l=s(61979),t=s(5574),n=s(65661),o=s(20890),d=s(20068),c=s(94294),x=s(39157),u=s(61889),h=s(48550),j=s(94721),m=s(44507),Z=s(97123),p=s(68899),b=s(29464),P=s(91923),v=s(19035),y=s(80184);r.default=function(e){let{open:r,onClose:s,job:g}=e;const[f,w]=i.useState({}),[S,C]=i.useState(!1),[O,k]=i.useState("");i.useEffect((()=>(I(g.id),()=>{w({})})),[g]);const I=async e=>{try{const r=await(0,v.A_)("/jobCard/jobSpares/"+e);w(r)}catch(r){console.log(r.message)}},N=i.useMemo((()=>[{accessorKey:"sparesAndLabour",header:"Spares/Services",size:250},{accessorKey:"qty",header:"Quantity",size:100},{accessorKey:"rate",header:"Rate",size:100},{accessorKey:"amount",header:"Amount",size:100}]),[]),_=(0,a.Z)(),R=i.useMemo((()=>(0,l.Z)({palette:{mode:_.palette.mode,primary:_.palette.secondary,info:{main:"rgb(255,122,0)"},background:{default:"rgba(0, 0, 0, 0)"}},typography:{button:{textTransform:"none",fontSize:"1.2rem"}},components:{MuiTooltip:{styleOverrides:{tooltip:{fontSize:"1.1rem"}}},MuiSwitch:{styleOverrides:{thumb:{color:"pink"}}}}})),[_]),A="#faf4f3",T="#f2f0f6";return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(t.Z,{open:r,onClose:s,"aria-labelledby":"data-row-dialog-title",fullWidth:!0,maxWidth:"lg",children:[(0,y.jsx)(n.Z,{id:"data-row-dialog-title",children:(0,y.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[(0,y.jsx)(o.Z,{variant:"h4",children:"JobCard: "+g.jobId+" VehicleNo.: "+g.vehicleRegNo}),(0,y.jsx)(d.Z,{title:"Print Bill",children:(0,y.jsx)(c.Z,{onClick:async()=>{try{const e=await(0,v.$R)("/jobCard/billPdf/"+g.id),r=window.URL.createObjectURL(e),s=document.createElement("a");s.href=r,s.setAttribute("download","Bill_"+g.jobId+"_"+g.vehicleRegNo+".pdf"),document.body.appendChild(s),s.click(),s.parentNode.removeChild(s)}catch(e){console.log(e.message),k(e.message),C(!0)}},children:"Print Bill"})})]})}),(0,y.jsxs)(x.Z,{dividers:!0,style:{backgroundColor:"white",color:"black"},children:[" ",(0,y.jsxs)(u.ZP,{container:!0,direction:"row",spacing:P.dv,children:[(0,y.jsx)(u.ZP,{item:!0,xs:12,children:(0,y.jsxs)(u.ZP,{container:!0,direction:"row",spacing:P.dv,children:[(0,y.jsx)(u.ZP,{item:!0,xs:6,children:(0,y.jsx)(h.Z,{label:"Owner Name",variant:"outlined",value:g.ownerName||"",InputProps:{readOnly:!0}})}),(0,y.jsx)(u.ZP,{item:!0,xs:6,children:(0,y.jsx)(h.Z,{label:"Owner PhoneNumber",variant:"outlined",value:g.ownerPhoneNumber||"",InputProps:{readOnly:!0}})}),(0,y.jsx)(u.ZP,{item:!0,xs:8,children:(0,y.jsx)(h.Z,{label:"Owner Address",fullWidth:!0,margin:"dense",multiline:!0,variant:"outlined",value:g.ownerAddress||"",InputProps:{readOnly:!0}})})]})}),(0,y.jsx)(u.ZP,{item:!0,xs:12,children:(0,y.jsx)(j.Z,{})}),(0,y.jsx)(u.ZP,{item:!0,xs:12,children:(0,y.jsxs)(u.ZP,{container:!0,direction:"row",spacing:P.dv,children:[(0,y.jsx)(u.ZP,{item:!0,xs:4,children:(0,y.jsx)(h.Z,{label:"Vehicle Reg. No.",variant:"outlined",value:g.vehicleRegNo||"",InputProps:{readOnly:!0}})}),(0,y.jsx)(u.ZP,{item:!0,xs:4,children:(0,y.jsx)(h.Z,{label:"Vehicle Name",variant:"outlined",value:g.vehicleName||"",InputProps:{readOnly:!0}})}),(0,y.jsx)(u.ZP,{item:!0,xs:4,children:(0,y.jsx)(h.Z,{label:"Vehicle K.Ms",variant:"outlined",value:g.kiloMeters||"",InputProps:{readOnly:!0}})})]})}),(0,y.jsx)(u.ZP,{item:!0,xs:12,children:(0,y.jsx)(j.Z,{})}),(0,y.jsx)(u.ZP,{item:!0,xs:12,children:(0,y.jsx)(j.Z,{})}),(0,y.jsx)(u.ZP,{item:!0,xs:12,children:(0,y.jsx)(m.Z,{theme:R,children:(0,y.jsx)(p.P2,{columns:N,data:f.jobSparesInfo||[],muiTablePaperProps:{elevation:0,sx:{borderRadius:"0",background:`linear-gradient(195deg, ${A}, ${T})`}}})})}),(0,y.jsx)(u.ZP,{item:!0,xs:12,children:(0,y.jsx)(j.Z,{})}),(0,y.jsx)(u.ZP,{item:!0,xs:12,children:(0,y.jsx)(j.Z,{})}),(0,y.jsx)(u.ZP,{item:!0,xs:12,children:(0,y.jsx)(m.Z,{theme:R,children:(0,y.jsx)(p.P2,{columns:N,data:f.jobServiceInfo||[],muiTablePaperProps:{elevation:0,sx:{borderRadius:"0",background:`linear-gradient(195deg, ${A}, ${T})`}}})})}),(0,y.jsx)(u.ZP,{item:!0,xs:12,children:(0,y.jsx)(j.Z,{})}),(0,y.jsx)(u.ZP,{item:!0,xs:12,children:(0,y.jsx)(j.Z,{})}),(0,y.jsx)(u.ZP,{item:!0,xs:12,children:(0,y.jsxs)(u.ZP,{container:!0,direction:"row",spacing:P.dv,children:[(0,y.jsx)(u.ZP,{item:!0,xs:4,children:(0,y.jsx)(h.Z,{label:"Total Spares Value",variant:"outlined",value:f.totalSparesValue||"",InputProps:{readOnly:!0}})}),(0,y.jsx)(u.ZP,{item:!0,xs:4,children:(0,y.jsx)(h.Z,{label:"Total Service Value",variant:"outlined",value:f.totalServiceValue||"",InputProps:{readOnly:!0}})}),(0,y.jsx)(u.ZP,{item:!0,xs:4,children:(0,y.jsx)(h.Z,{label:"Grand Total",variant:"outlined",value:f.grandTotal||"",InputProps:{readOnly:!0}})})]})})]})]}),(0,y.jsx)(Z.Z,{children:(0,y.jsx)(c.Z,{onClick:s,children:"Close"})})]}),S&&(0,y.jsx)(b.Z,{showAlert:S,setShowAlert:C,alertColor:"info",alertMess:O})]})}}}]);
//# sourceMappingURL=627.1afeb528.chunk.js.map