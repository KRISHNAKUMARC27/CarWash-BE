"use strict";(self.webpackChunkcar_wash_management=self.webpackChunkcar_wash_management||[]).push([[7862],{77862:function(e,o,n){n.r(o);var r=n(72791),t=n(93517),a=n(50533),s=n(44713),i=n(44804),l=n(13241),c=n(94294),u=n(95587),d=n.n(u),p=n(19035),m=n(29464),h=n(80184);const b=(0,s.Z)((0,r.lazy)((()=>n.e(8575).then(n.bind(n,88575))))),x=(0,s.Z)((0,r.lazy)((()=>n.e(42).then(n.bind(n,20042)))));o.default=function(e){let{data:o}=e;const n={...o,id:null,estimateObjId:null,invoiceObjId:null,jobId:null,jobStatus:null,jobCreationDate:null,jobCloseDate:null,billGenerated:!1,kiloMeters:null,nextFreeCheckKms:null,nextServiceKms:null},[s,u]=(0,r.useState)("UserDetails"),[v,f]=(0,r.useState)(n||{}),[g,y]=r.useState(!1),[w,Z]=r.useState(""),[j,C]=r.useState(""),[D,N]=r.useState([]);function S(){return v.ownerName&&v.ownerAddress&&v.ownerPhoneNumber}function k(){return v.vehicleRegNo&&v.vehicleName}(0,r.useEffect)((()=>()=>{f({})}),[]);const A=async e=>{try{const n=await(0,p.j0)("/jobCard",e);if(Z("JobCard "+n.jobId+" for "+n.vehicleRegNo+" created successfully"),C("success"),y(!0),f({}),0===D.length)return void console.log("No photos to upload.");const r=new(d());D.forEach(((e,o)=>{console.log(o),r.file(e.name,e)}));const t=await r.generateAsync({type:"blob"}),a=new FormData;a.append("file",new File([t],"photos.zip",{type:"application/zip"}));try{await(0,p.iV)("/jobCard/uploadPhotos/"+n.id,a),Z("Photos uploaded for "+n.vehicleRegNo+" successfully"),C("success"),y(!0),N([])}catch(o){console.log(o.message),Z(o.message),C("info"),y(!0)}}catch(o){console.log(o.message),Z(o.message),C("info"),y(!0)}};return(0,h.jsxs)("div",{children:[(0,h.jsxs)(t.Z,{"aria-label":"breadcrumb",children:[(0,h.jsxs)(a.Z,{sx:{padding:"5px 15px",cursor:"pointer",textDecoration:"none",color:e=>e.palette.text.primary,borderBottom:S()?"3px solid green":"3px solid orange","&:hover":{color:e=>e.palette.secondary.main}},onClick:()=>u("UserDetails"),children:[(0,h.jsx)(l.Z,{sx:{verticalAlign:"middle",marginRight:"5px"}}),"User Details"]}),(0,h.jsxs)(a.Z,{sx:{padding:"5px 15px",cursor:"pointer",textDecoration:"none",color:e=>e.palette.text.primary,borderBottom:k()?"3px solid green":"3px solid orange","&:hover":{color:e=>e.palette.secondary.main}},onClick:()=>u("CarDetails"),children:[(0,h.jsx)(i.Z,{sx:{verticalAlign:"middle",marginRight:"5px"}}),"Car Details"]})]}),(0,h.jsxs)("div",{className:"content",children:["CarDetails"===s&&(0,h.jsx)(x,{data:v,updateData:f,photos:D,updatePhotos:N}),"UserDetails"===s&&(0,h.jsx)(b,{data:v,updateData:f})]}),(0,h.jsx)("br",{}),(0,h.jsx)("div",{className:"content",children:S()&&k()&&(0,h.jsx)(c.Z,{variant:"contained",color:"error",onClick:()=>{const e={jobStatus:"OPEN",ownerName:v.ownerName,ownerAddress:v.ownerAddress,ownerPhoneNumber:v.ownerPhoneNumber,ownerEmailId:v.ownerEmailId,vehicleRegNo:v.vehicleRegNo,vehicleName:v.vehicleName,kiloMeters:v.kiloMeters};A(e)},children:"Submit JobCard"})}),g&&(0,h.jsx)(m.Z,{showAlert:g,setShowAlert:y,alertColor:j,alertMess:w})]})}},44804:function(e,o,n){var r=n(64836);o.Z=void 0;var t=r(n(45649)),a=n(80184),s=(0,t.default)((0,a.jsx)("path",{d:"M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM7.5 16c-.83 0-1.5-.67-1.5-1.5S6.67 13 7.5 13s1.5.67 1.5 1.5S8.33 16 7.5 16zm9 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM5.81 10l1.04-3h10.29l1.04 3H5.81z"}),"DirectionsCarFilled");o.Z=s},13241:function(e,o,n){var r=n(64836);o.Z=void 0;var t=r(n(45649)),a=n(80184),s=(0,t.default)((0,a.jsx)("path",{d:"M18.39 14.56C16.71 13.7 14.53 13 12 13s-4.71.7-6.39 1.56C4.61 15.07 4 16.1 4 17.22V20h16v-2.78c0-1.12-.61-2.15-1.61-2.66zM12 12c2.21 0 4-1.79 4-4V4.5c0-.83-.67-1.5-1.5-1.5-.52 0-.98.27-1.25.67-.27-.4-.73-.67-1.25-.67s-.98.27-1.25.67c-.27-.4-.73-.67-1.25-.67C8.67 3 8 3.67 8 4.5V8c0 2.21 1.79 4 4 4z"}),"Person4");o.Z=s},50533:function(e,o,n){n.d(o,{Z:function(){return D}});var r=n(63366),t=n(87462),a=n(72791),s=n(63733),i=n(94419),l=n(14036),c=n(66934),u=n(31402),d=n(68221),p=n(42071),m=n(20890),h=n(75878),b=n(21217);function x(e){return(0,b.Z)("MuiLink",e)}var v=(0,h.Z)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),f=n(18529),g=n(12065);const y={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"};var w=e=>{let{theme:o,ownerState:n}=e;const r=(e=>y[e]||e)(n.color),t=(0,f.DW)(o,`palette.${r}`,!1)||n.color,a=(0,f.DW)(o,`palette.${r}Channel`);return"vars"in o&&a?`rgba(${a} / 0.4)`:(0,g.Fq)(t,.4)},Z=n(80184);const j=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],C=(0,c.ZP)(m.Z,{name:"MuiLink",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:n}=e;return[o.root,o[`underline${(0,l.Z)(n.underline)}`],"button"===n.component&&o.button]}})((e=>{let{theme:o,ownerState:n}=e;return(0,t.Z)({},"none"===n.underline&&{textDecoration:"none"},"hover"===n.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===n.underline&&(0,t.Z)({textDecoration:"underline"},"inherit"!==n.color&&{textDecorationColor:w({theme:o,ownerState:n})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===n.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${v.focusVisible}`]:{outline:"auto"}})}));var D=a.forwardRef((function(e,o){const n=(0,u.Z)({props:e,name:"MuiLink"}),{className:c,color:m="primary",component:h="a",onBlur:b,onFocus:v,TypographyClasses:f,underline:g="always",variant:w="inherit",sx:D}=n,N=(0,r.Z)(n,j),{isFocusVisibleRef:S,onBlur:k,onFocus:A,ref:M}=(0,d.Z)(),[z,R]=a.useState(!1),F=(0,p.Z)(o,M),P=(0,t.Z)({},n,{color:m,component:h,focusVisible:z,underline:g,variant:w}),V=(e=>{const{classes:o,component:n,focusVisible:r,underline:t}=e,a={root:["root",`underline${(0,l.Z)(t)}`,"button"===n&&"button",r&&"focusVisible"]};return(0,i.Z)(a,x,o)})(P);return(0,Z.jsx)(C,(0,t.Z)({color:m,className:(0,s.Z)(V.root,c),classes:f,component:h,onBlur:e=>{k(e),!1===S.current&&R(!1),b&&b(e)},onFocus:e=>{A(e),!0===S.current&&R(!0),v&&v(e)},ref:F,ownerState:P,variant:w,sx:[...Object.keys(y).includes(m)?[]:[{color:m}],...Array.isArray(D)?D:[D]]},N))}))}}]);
//# sourceMappingURL=7862.cae742bd.chunk.js.map