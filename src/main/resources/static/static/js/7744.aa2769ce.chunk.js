"use strict";(self.webpackChunkberry_free_material_react_cra=self.webpackChunkberry_free_material_react_cra||[]).push([[7744],{7744:function(e,t,r){r.r(t);var n=r(72791),o=r(68899),a=r(13967),s=r(61979),i=r(44507),l=r(64554),d=r(20068),c=r(13400),u=r(5574),p=r(39157),h=r(61889),f=r(94721),m=r(20890),x=r(97123),y=r(94294),g=r(17100),b=r(38820),w=r(24657),j=r(91923),v=r(44713),Z=r(19035),C=r(80184);const E=(0,v.Z)((0,n.lazy)((()=>r.e(4710).then(r.bind(r,3592))))),S=(0,w.iL)({fieldSeparator:",",decimalSeparator:".",useKeysAsHeaders:!0});t.default=()=>{const[e,t]=(0,n.useState)([]),[r,v]=(0,n.useState)({}),[k,M]=(0,n.useState)(!1);(0,n.useEffect)((()=>(P(),()=>{t([])})),[]);const O=()=>{M(!1)},P=async()=>{try{const e=await(0,Z.A_)("/expense");t(e)}catch(e){console.error(e.message)}},z=(0,n.useMemo)((()=>[{accessorKey:"type",header:"Category",size:150,filterVariant:"multi-select"},{accessorKey:"desc",header:"Description",size:250},{accessorKey:"expenseAmount",header:"Amount",size:100},{accessorKey:"date",header:"Date",size:100},{accessorKey:"paymentMode",header:"Mode",size:100},{accessorKey:"comment",header:"Comment",size:100}]),[]),T=(0,a.Z)(),A=(0,n.useMemo)((()=>(0,s.Z)({palette:{mode:T.palette.mode,primary:T.palette.secondary,info:{main:"rgb(255,122,0)"},background:{default:"rgba(0, 0, 0, 0)"}},typography:{button:{textTransform:"none",fontSize:"1.2rem"}},components:{MuiTooltip:{styleOverrides:{tooltip:{fontSize:"1.1rem"}}},MuiSwitch:{styleOverrides:{thumb:{color:"pink"}}}}})),[T]);return(0,C.jsxs)("div",{children:[(0,C.jsxs)(i.Z,{theme:A,children:[(0,C.jsx)(o.P2,{columns:z,data:e,enableFacetedValues:!0,editingMode:"modal",enableEditing:!0,muiTablePaperProps:{elevation:0,sx:{borderRadius:"0",background:"linear-gradient(195deg, #e2d7d5, #4f4563)"}},renderTopToolbarCustomActions:e=>{let{table:t}=e;return(0,C.jsx)(l.Z,{sx:{display:"flex",gap:"1rem",p:"0.5rem",flexWrap:"wrap"},children:(0,C.jsx)(d.Z,{title:"Export Data",children:(0,C.jsx)("span",{children:(0,C.jsx)(c.Z,{onClick:()=>(e=>{const t=e.map((e=>e.original)),r=(0,w.gB)(S)(t);(0,w.LR)(S)(r)})(t.getPrePaginationRowModel().rows),disabled:0===t.getPrePaginationRowModel().rows.length,children:(0,C.jsx)(g.Z,{})})})})})},renderRowActions:e=>{let{row:t}=e;return(0,C.jsx)(l.Z,{sx:{display:"flex",gap:"1rem"},children:(0,C.jsx)(d.Z,{arrow:!0,placement:"left",title:"Update Expense Info",children:(0,C.jsx)(c.Z,{onClick:()=>{M(!1),v(t.original),M(!0)},children:(0,C.jsx)(b.Z,{})})})})}})," "]}),(0,C.jsx)("br",{}),(0,C.jsxs)(u.Z,{open:k,onClose:O,"aria-labelledby":"data-row-dialog-title",fullWidth:!0,maxWidth:"lg",children:[(0,C.jsxs)(p.Z,{dividers:!0,style:{backgroundColor:"white",color:"black"},children:[" ",(0,C.jsx)(h.ZP,{container:!0,spacing:j.dv,children:(0,C.jsx)(h.ZP,{item:!0,xs:12,children:(0,C.jsxs)(h.ZP,{container:!0,spacing:j.dv,children:[(0,C.jsx)(h.ZP,{item:!0,xs:12,children:(0,C.jsx)(f.Z,{})}),(0,C.jsx)(h.ZP,{item:!0,xs:12,children:(0,C.jsx)(m.Z,{variant:"h2",children:"Updating Expense: "+r.desc})}),(0,C.jsx)(h.ZP,{item:!0,xs:12,children:(0,C.jsx)(E,{data:r,setExpenseUpdateOpen:M,fetchAllExpenseData:P})})]})})})]}),(0,C.jsx)(x.Z,{children:(0,C.jsx)(y.Z,{onClick:O,children:"Close"})})]}),(0,C.jsx)("br",{})]})}},38820:function(e,t,r){var n=r(76189),o=r(80184);t.Z=(0,n.Z)((0,o.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit")},17100:function(e,t,r){var n=r(76189),o=r(80184);t.Z=(0,n.Z)((0,o.jsx)("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"}),"FileDownload")},24657:function(e,t,r){var n,o;r.d(t,{LR:function(){return S},gB:function(){return E},iL:function(){return p}}),(o=n||(n={})).csv="text/csv",o.tsv="text/tab-separated-values",o.plain="text/plain";var a=e=>e,s=a,i=a,l=a,d=a,c=a,u={fieldSeparator:",",decimalSeparator:".",quoteStrings:!0,quoteCharacter:'"',showTitle:!1,title:"My Generated Report",filename:"generated",showColumnHeaders:!0,useTextFile:!1,fileExtension:"csv",mediaType:n.csv,useBom:!0,columnHeaders:[],useKeysAsHeaders:!1,boolDisplay:{true:"TRUE",false:"FALSE"},replaceUndefinedWith:""},p=e=>Object.assign({},u,e);class h extends Error{constructor(e){super(e),this.name="CsvGenerationError"}}class f extends Error{constructor(e){super(e),this.name="EmptyHeadersError"}}class m extends Error{constructor(e){super(e),this.name="CsvDownloadEnvironmentError"}}class x extends Error{constructor(e){super(e),this.name="UnsupportedDataFormatError"}}var y=e=>d("object"===typeof e?e.key:e),g=e=>c("object"===typeof e?e.displayLabel:e),b=e=>t=>i(e+t+"\r\n"),w=e=>(t,r)=>j(e)(l(t+r)),j=e=>t=>t+e.fieldSeparator,v=(e,t)=>{if((e=>+e===e&&(!isFinite(e)||Boolean(e%1)))(t)){if("locale"===e.decimalSeparator)return s(t.toLocaleString());if(e.decimalSeparator)return s(t.toString().replace(".",e.decimalSeparator))}return s(t.toString())},Z=(e,t)=>{let r=t;return(e.quoteStrings||e.fieldSeparator&&t.indexOf(e.fieldSeparator)>-1||e.quoteCharacter&&t.indexOf(e.quoteCharacter)>-1||t.indexOf("\n")>-1||t.indexOf("\r")>-1)&&(r=e.quoteCharacter+function(e,t){return'"'==t&&e.indexOf('"')>-1?e.replace(/"/g,'""'):e}(t,e.quoteCharacter)+e.quoteCharacter),s(r)},C=(e,t)=>{if("number"===typeof t)return v(e,t);if("string"===typeof t)return Z(e,t);if("boolean"===typeof t&&e.boolDisplay)return((e,t)=>{const r=t?"true":"false";return s(e.boolDisplay[r])})(e,t);if(null===t||"undefined"===typeof t)return((e,t)=>"undefined"===typeof t&&void 0!==e.replaceUndefinedWith?Z(e,e.replaceUndefinedWith+""):Z(e,null===t?"null":""))(e,t);throw new x(`\n    typeof ${typeof t} isn't supported. Only number, string, boolean, null and undefined are supported.\n    Please convert the data in your object to one of those before generating the CSV.\n    `)},E=e=>t=>{const r=p(e),n=r.useKeysAsHeaders?Object.keys(t[0]):r.columnHeaders;let o=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.reduce(((e,t)=>t(e)),e)}(i(""),(e=>t=>e.useBom?i(t+"\ufeff"):t)(r),(e=>t=>e.showTitle?b(i(t+e.title))(l("")):t)(r),((e,t)=>r=>{if(!e.showColumnHeaders)return r;if(t.length<1)throw new f("Option to show headers but none supplied. Make sure there are keys in your collection or that you've supplied headers through the config options.");let n=l("");for(let o=0;o<t.length;o++){const r=g(t[o]);n=w(e)(n,C(e,r))}return n=l(n.slice(0,-1)),b(r)(n)})(r,n),((e,t,r)=>n=>{let o=n;for(var a=0;a<r.length;a++){let n=l("");for(let o=0;o<t.length;o++){const s=y(t[o]),i=r[a][s];n=w(e)(n,C(e,i))}n=l(n.slice(0,-1)),o=b(o)(n)}return o})(r,n,t));if(o.length<1)throw new h("Output is empty. Is your data formatted correctly?");return o},S=e=>t=>{if(!window)throw new m("Downloading only supported in a browser environment.");const r=(e=>t=>{const r=p(e),n=t,o=r.useTextFile?"text/plain":r.mediaType;return new Blob([n],{type:`${o};charset=utf8;`})})(e)(t),n=p(e),o=n.useTextFile?"txt":n.fileExtension,a=`${n.filename}.${o}`,s=document.createElement("a");s.download=a,s.href=URL.createObjectURL(r),s.setAttribute("visibility","hidden"),document.body.appendChild(s),s.click(),document.body.removeChild(s)}}}]);
//# sourceMappingURL=7744.aa2769ce.chunk.js.map