"use strict";(self.webpackChunkcar_wash_management=self.webpackChunkcar_wash_management||[]).push([[2909],{72909:function(e,l,t){t.r(l);var n=t(72791),a=t(5574),s=t(65661),i=t(39157),r=t(61889),o=t(48550),d=t(23786),c=t(97123),m=t(94294),u=t(91923),h=t(19035),p=t(80184);l.default=e=>{let{paymentModes:l,settleBillDialogOpen:t,selectedRows:x,handleClose:g,setAlertMess:v,setShowAlert:j}=e;const[f,C]=(0,n.useState)({});(0,n.useEffect)((()=>()=>{C({})}),[]);const y=(e,l)=>{const t={...f,[e]:l};C(t)};return(0,p.jsx)(p.Fragment,{children:t&&(0,p.jsxs)(a.Z,{open:t,onClose:g,scroll:"paper","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",fullWidth:!0,maxWidth:"md",children:[(0,p.jsx)(s.Z,{id:"scroll-dialog-title",sx:{fontSize:"1.0rem"},children:"Multiple Credit Settlement"}),(0,p.jsxs)(i.Z,{dividers:"paper"===scroll,children:[(0,p.jsx)("br",{}),(0,p.jsxs)(r.ZP,{container:!0,item:!0,spacing:u.dv,alignItems:"center",children:[(0,p.jsx)(r.ZP,{item:!0,xs:4,children:(0,p.jsx)(o.Z,{label:"Credit Amount",variant:"outlined",fullWidth:!0,required:!0,value:f.amount||0,onChange:e=>y("amount",parseFloat(e.target.value)||0),type:"number"})}),(0,p.jsx)(r.ZP,{item:!0,xs:3,children:(0,p.jsx)(o.Z,{select:!0,label:"Payment Mode",variant:"outlined",fullWidth:!0,required:!0,value:f.paymentMode||"",onChange:e=>y("paymentMode",e.target.value),children:l.filter((e=>"CREDIT"!==e)).map((e=>(0,p.jsx)(d.Z,{value:e,children:e},e)))})}),(0,p.jsx)(r.ZP,{item:!0,xs:4,children:(0,p.jsx)(o.Z,{label:"Comment",variant:"outlined",fullWidth:!0,value:f.comment||"",onChange:e=>y("comment",e.target.value)})})]})]}),(0,p.jsxs)(c.Z,{children:[(0,p.jsx)(m.Z,{onClick:async()=>{if(null==f.paymentMode)return void alert("Please select a payment mode.");if(null==f.amount||f.amount<=0)return void alert("Enter valid amount");const e={...f,invoiceIds:x.map((e=>e.id))};console.log(JSON.stringify(e));try{const l=await(0,h.j0)("/invoice/multiCreditSettlement",e);console.log(l),v(l.result),j(!0),g()}catch(l){v(l.message),j(!0),g()}},color:"secondary",children:"Save"}),(0,p.jsx)(m.Z,{onClick:g,color:"secondary",children:"Close"})]})]})})}}}]);
//# sourceMappingURL=2909.56ce6489.chunk.js.map