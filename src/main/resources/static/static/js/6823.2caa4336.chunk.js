"use strict";(self.webpackChunkcar_wash_management=self.webpackChunkcar_wash_management||[]).push([[6823],{36823:function(e,a,t){t.r(a);var r=t(72791),s=t(43623),n=t(19035),l=t(61889),o=t(94294),c=t(20890),i=t(2101),d=t(43896),h=t(41985),y=t(97892),x=t.n(y),m=t(35967),b=t(23735),j=t(86930),Y=t.n(j),Z=t(80184);x().extend(Y()),m.kL.register(m.uw,m.f$,m.ZL,m.Dx,m.u,m.De);a.default=()=>{const[e,a]=(0,r.useState)({}),[t,y]=(0,r.useState)({}),[m,j]=(0,r.useState)({}),[Y,k]=(0,r.useState)(0),[u,D]=(0,r.useState)(0),[g,f]=(0,r.useState)(0),[$,v]=(0,r.useState)(x()().subtract(7,"day")),[M,P]=(0,r.useState)(x()());(0,r.useEffect)((()=>{w("daily",x()().format("YYYY-MM-DD")),p("daily",x()().format("YYYY-MM-DD")),C("daily",x()().format("YYYY-MM-DD"))}),[]);const w=async(e,t)=>{try{const r=`/employee/attendance/${e}/${t}`,s=await(0,n.A_)(r);a(s)}catch(r){console.error("Error fetching attendance data:",r)}},p=async(e,a)=>{try{const t=`/employee/attendance/day/${e}/${a}`,r=await(0,n.A_)(t);j(r)}catch(t){console.error("Error fetching working days data:",t)}},C=async(e,a)=>{try{const t=`/employee/leave/${e}/${a}`,r=await(0,n.A_)(t);y(r)}catch(t){console.error("Error fetching leave data:",t)}};return(0,Z.jsx)(b.Z,{title:"Attendance/Leave Report",children:(0,Z.jsxs)(l.ZP,{container:!0,spacing:2,children:[(0,Z.jsxs)(l.ZP,{container:!0,item:!0,spacing:2,lg:4,md:4,sm:12,xs:12,children:[(0,Z.jsx)(l.ZP,{item:!0,xs:12,children:(0,Z.jsx)(h.M,{label:"Start Date",value:$,onChange:e=>v(e)})}),(0,Z.jsx)(l.ZP,{item:!0,xs:12,children:(0,Z.jsx)(h.M,{label:"End Date",value:M,onChange:e=>P(e)})}),(0,Z.jsx)(l.ZP,{item:!0,xs:12,children:(0,Z.jsx)(o.Z,{variant:"contained",color:"primary",onClick:()=>{(async()=>{try{const e=`/employee/attendance/daterange?startDate=${$.format("YYYY-MM-DD")}&endDate=${M.format("YYYY-MM-DD")}`,t=await(0,n.A_)(e);a(t)}catch(e){console.error("Error fetching attendance data:",e)}})()},children:"Get Attendance"})}),(0,Z.jsxs)(l.ZP,{item:!0,xs:12,children:[(0,Z.jsx)(c.Z,{variant:"h2",children:"Attendance"}),(0,Z.jsxs)(i.Z,{value:Y,onChange:(e,a)=>{let t;k(a);const r=x()(),s=r.year(),n=r.month()+1,l=r.format("YYYY-MM-DD"),o=r.isoWeek();switch(a){case 0:t=l;break;case 1:t=`${s}/${o}`;break;case 2:t=`${s}/${n}`;break;case 3:t=`${s}`;break;default:return}w(0===a?"daily":1===a?"weekly":2===a?"monthly":"yearly",t)},children:[(0,Z.jsx)(d.Z,{label:"Daily"}),(0,Z.jsx)(d.Z,{label:"Weekly"}),(0,Z.jsx)(d.Z,{label:"Monthly"}),(0,Z.jsx)(d.Z,{label:"Yearly"})]})]}),(0,Z.jsxs)(l.ZP,{item:!0,xs:12,children:[(0,Z.jsxs)(c.Z,{variant:"h6",children:["Total Present: ",e.totalPresent||0]}),(0,Z.jsxs)(c.Z,{variant:"h6",children:["Total Absent: ",e.totalAbsent||0]})]}),(0,Z.jsx)(l.ZP,{item:!0,xs:12,children:(0,Z.jsx)(s.$Q,{data:{labels:Object.keys(e.workingHours||{}),datasets:[{label:"Working Hours",data:Object.values(e.workingHours||{}),backgroundColor:["#3e95cd"],borderColor:["#3e95cd"],borderWidth:1}]}})})]}),(0,Z.jsxs)(l.ZP,{container:!0,item:!0,spacing:2,lg:4,md:4,sm:12,xs:12,children:[(0,Z.jsx)(l.ZP,{item:!0,xs:12,children:(0,Z.jsx)(o.Z,{variant:"contained",color:"primary",onClick:()=>{(async()=>{try{const e=`/employee/leave/daterange?startDate=${$.format("YYYY-MM-DD")}&endDate=${M.format("YYYY-MM-DD")}`,a=await(0,n.A_)(e);y(a)}catch(e){console.error("Error fetching leave data:",e)}})()},children:"Fetch Leave"})}),(0,Z.jsxs)(l.ZP,{item:!0,xs:12,children:[(0,Z.jsx)(c.Z,{variant:"h2",children:"Leave"}),(0,Z.jsxs)(i.Z,{value:u,onChange:(e,a)=>{let t;D(a);const r=x()(),s=r.year(),n=r.month()+1,l=r.format("YYYY-MM-DD"),o=r.isoWeek();switch(a){case 0:t=l;break;case 1:t=`${s}/${o}`;break;case 2:t=`${s}/${n}`;break;case 3:t=`${s}`;break;default:return}C(0===a?"daily":1===a?"weekly":2===a?"monthly":"yearly",t)},children:[(0,Z.jsx)(d.Z,{label:"Daily"}),(0,Z.jsx)(d.Z,{label:"Weekly"}),(0,Z.jsx)(d.Z,{label:"Monthly"}),(0,Z.jsx)(d.Z,{label:"Yearly"})]})]}),(0,Z.jsx)(l.ZP,{item:!0,xs:12,children:(0,Z.jsxs)(c.Z,{variant:"h6",children:["Total Absent: ",t.totalAbsent||0]})}),(0,Z.jsx)(l.ZP,{item:!0,xs:12,children:(0,Z.jsx)(s.$Q,{data:{labels:Object.keys(t.leaveCount||{}),datasets:[{label:"Leave Count",data:Object.values(t.leaveCount||{}),backgroundColor:["#8e5ea2"],borderColor:["#8e5ea2"],borderWidth:1}]}})})]}),(0,Z.jsxs)(l.ZP,{container:!0,item:!0,spacing:2,lg:4,md:4,sm:12,xs:12,children:[(0,Z.jsx)(l.ZP,{item:!0,xs:12,children:(0,Z.jsx)(o.Z,{variant:"contained",color:"primary",onClick:()=>{(async()=>{try{const e=`/employee/attendance/day/daterange?startDate=${$.format("YYYY-MM-DD")}&endDate=${M.format("YYYY-MM-DD")}`,a=await(0,n.A_)(e);j(a)}catch(e){console.error("Error fetching working days data:",e)}})()},children:"Get Working Days"})}),(0,Z.jsxs)(l.ZP,{item:!0,xs:12,children:[(0,Z.jsx)(c.Z,{variant:"h2",children:"Working Days"}),(0,Z.jsxs)(i.Z,{value:g,onChange:(e,a)=>{let t;f(a);const r=x()(),s=r.year(),n=r.month()+1,l=r.format("YYYY-MM-DD"),o=r.isoWeek();switch(a){case 0:t=l;break;case 1:t=`${s}/${o}`;break;case 2:t=`${s}/${n}`;break;case 3:t=`${s}`;break;default:return}p(0===a?"daily":1===a?"weekly":2===a?"monthly":"yearly",t)},children:[(0,Z.jsx)(d.Z,{label:"Daily"}),(0,Z.jsx)(d.Z,{label:"Weekly"}),(0,Z.jsx)(d.Z,{label:"Monthly"}),(0,Z.jsx)(d.Z,{label:"Yearly"})]})]}),(0,Z.jsxs)(l.ZP,{item:!0,xs:12,children:[(0,Z.jsxs)(c.Z,{variant:"h6",children:["Total Present: ",m.totalPresent||0]}),(0,Z.jsxs)(c.Z,{variant:"h6",children:["Total Absent: ",m.totalAbsent||0]})]}),(0,Z.jsx)(l.ZP,{item:!0,xs:12,children:(0,Z.jsx)(s.$Q,{data:{labels:Object.keys(m.workingDaysPerEmployee||{}),datasets:[{label:"Working Days Per Employee",data:Object.values(m.workingDaysPerEmployee||{}),backgroundColor:["#ff6384"],borderColor:["#ff6384"],borderWidth:1}]}})})]})]})})}}}]);
//# sourceMappingURL=6823.2caa4336.chunk.js.map