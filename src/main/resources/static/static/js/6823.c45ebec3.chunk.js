"use strict";(self.webpackChunkberry_free_material_react_cra=self.webpackChunkberry_free_material_react_cra||[]).push([[6823],{36823:function(e,a,t){t.r(a);var r=t(72791),s=t(43623),l=t(19035),n=t(61889),c=t(94294),o=t(20890),i=t(2101),d=t(43896),h=t(41985),m=t(97892),x=t.n(m),b=t(35967),y=t(23735),j=t(86930),u=t.n(j),Z=t(80184);x().extend(u()),b.kL.register(b.uw,b.f$,b.ZL,b.Dx,b.u,b.De);a.default=()=>{const[e,a]=(0,r.useState)({}),[t,m]=(0,r.useState)({}),[b,j]=(0,r.useState)(0),[u,Y]=(0,r.useState)(0),[g,k]=(0,r.useState)(x()().subtract(7,"day")),[v,D]=(0,r.useState)(x()());(0,r.useEffect)((()=>{f("daily",x()().format("YYYY-MM-DD"))}),[]);const f=async(e,t)=>{try{const r=`/employee/attendance/${e}/${t}`,s=await(0,l.A_)(r);a(s)}catch(r){console.error("Error fetching attendance data:",r)}};return(0,Z.jsx)(y.Z,{title:"Attendance/Leave Report",children:(0,Z.jsxs)(n.ZP,{container:!0,spacing:2,children:[(0,Z.jsx)(n.ZP,{item:!0,lg:2,md:2,sm:2,xs:2}),(0,Z.jsx)(n.ZP,{item:!0,lg:5,md:5,sm:5,xs:5,children:(0,Z.jsx)(h.M,{label:"Start Date",value:g,onChange:e=>k(e)})}),(0,Z.jsx)(n.ZP,{item:!0,lg:5,md:5,sm:5,xs:5,children:(0,Z.jsx)(h.M,{label:"End Date",value:v,onChange:e=>D(e)})}),(0,Z.jsx)(n.ZP,{item:!0,lg:6,md:6,sm:6,xs:6,children:(0,Z.jsx)(c.Z,{variant:"contained",color:"primary",onClick:()=>{(async()=>{try{const e=`/employee/attendance/daterange?startDate=${g.format("YYYY-MM-DD")}&endDate=${v.format("YYYY-MM-DD")}`,t=await(0,l.A_)(e);a(t)}catch(e){console.error("Error fetching attendance data:",e)}})()},children:"Get Attendance"})}),(0,Z.jsx)(n.ZP,{item:!0,lg:6,md:6,sm:6,xs:6,children:(0,Z.jsx)(c.Z,{variant:"contained",color:"primary",onClick:()=>{(async()=>{try{const e=`/employee/leave/daterange?startDate=${g.format("YYYY-MM-DD")}&endDate=${v.format("YYYY-MM-DD")}`,a=await(0,l.A_)(e);m(a)}catch(e){console.error("Error fetching leave data:",e)}})()},children:"Fetch Leave"})}),(0,Z.jsxs)(n.ZP,{item:!0,lg:6,md:6,sm:6,xs:6,children:[(0,Z.jsx)(o.Z,{variant:"h2",children:"Attendance"}),(0,Z.jsxs)(i.Z,{value:b,onChange:(e,a)=>{let t;j(a);const r=x()(),s=r.year(),l=r.month()+1,n=r.format("YYYY-MM-DD"),c=r.isoWeek();switch(a){case 0:t=n;break;case 1:t=`${s}/${c}`;break;case 2:t=`${s}/${l}`;break;case 3:t=`${s}`;break;default:return}f(0===a?"daily":1===a?"weekly":2===a?"monthly":"yearly",t)},children:[(0,Z.jsx)(d.Z,{label:"Daily"}),(0,Z.jsx)(d.Z,{label:"Weekly"}),(0,Z.jsx)(d.Z,{label:"Monthly"}),(0,Z.jsx)(d.Z,{label:"Yearly"})]})]}),(0,Z.jsxs)(n.ZP,{item:!0,lg:6,md:6,sm:6,xs:6,children:[(0,Z.jsx)(o.Z,{variant:"h2",children:"Leave"}),(0,Z.jsxs)(i.Z,{value:u,onChange:(e,a)=>{let t;Y(a);const r=x()(),s=r.year(),n=r.month()+1,c=r.format("YYYY-MM-DD"),o=r.isoWeek();switch(a){case 0:t=c;break;case 1:t=`${s}/${o}`;break;case 2:t=`${s}/${n}`;break;case 3:t=`${s}`;break;default:return}(async(e,a)=>{try{const t=`/employee/leave/${e}/${a}`,r=await(0,l.A_)(t);m(r)}catch(t){console.error("Error fetching leave data:",t)}})(0===a?"daily":1===a?"weekly":2===a?"monthly":"yearly",t)},children:[(0,Z.jsx)(d.Z,{label:"Daily"}),(0,Z.jsx)(d.Z,{label:"Weekly"}),(0,Z.jsx)(d.Z,{label:"Monthly"}),(0,Z.jsx)(d.Z,{label:"Yearly"})]})]}),(0,Z.jsxs)(n.ZP,{item:!0,lg:6,md:6,sm:6,xs:6,children:[(0,Z.jsxs)(o.Z,{variant:"h6",children:["Total Present: ",e.totalPresent||0]}),(0,Z.jsxs)(o.Z,{variant:"h6",children:["Total Absent: ",e.totalAbsent||0]})]}),(0,Z.jsx)(n.ZP,{item:!0,lg:6,md:6,sm:6,xs:6,children:(0,Z.jsxs)(o.Z,{variant:"h6",children:["Total Absent: ",t.totalAbsent||0]})}),(0,Z.jsx)(n.ZP,{item:!0,lg:6,md:6,sm:6,xs:6,children:(0,Z.jsx)(s.$Q,{data:{labels:Object.keys(e.workingHours||{}),datasets:[{label:"Working Hours",data:Object.values(e.workingHours||{}),backgroundColor:["#3e95cd"],borderColor:["#3e95cd"],borderWidth:1}]}})}),(0,Z.jsx)(n.ZP,{item:!0,lg:6,md:6,sm:6,xs:6,children:(0,Z.jsx)(s.$Q,{data:{labels:Object.keys(t.leaveCount||{}),datasets:[{label:"Leave Count",data:Object.values(t.leaveCount||{}),backgroundColor:["#8e5ea2"],borderColor:["#8e5ea2"],borderWidth:1}]}})})]})})}}}]);
//# sourceMappingURL=6823.c45ebec3.chunk.js.map