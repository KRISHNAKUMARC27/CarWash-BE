<!DOCTYPE html>
<html>
<head>
<style>
table {
	width: 100%;
	border-collapse: collapse;
}

td, th {
	border: 1px solid black;
	padding: 5px;
	text-align: left;
}

.header-row {
	position: relative;
	/* Ensure absolute children are positioned relative to this parent */
	height: 50px; /* Adjust height as needed */
}

.gstin {
	position: absolute;
	top: 5px;
	left: 5px;
	font-weight: bold;
}

.cell {
	position: absolute;
	top: 5px;
	right: 5px;
}

/* Remove row borders inside nested-table */
.nested-table tbody tr td {
	border-top: none !important;
	border-bottom: none !important;
	height: 15px;
	font-size: 15px;
	line-height: 0.5;
}

/* Keep only the table's outer border */
.nested-table {
	border: 1px solid black;
}

/* Ensure table headers retain their bottom border */
.nested-table thead th {
	border-bottom: 1px solid black;
}

.collapse-table {
	width: 100%;
	border-collapse: collapse;
}

/* Restrict styles only to immediate children of .collapse-table */
.collapse-table>tbody>tr>td, .collapse-table>tbody>tr>th {
	border-top: none;
	border-bottom: none;
	border-left: 1px solid black;
	border-right: 1px solid black;
	padding: 5px;
	text-align: left;
}

/* Remove border-left for the first column */
.collapse-table>tbody>tr>td:first-child, .collapse-table>tbody>tr>th:first-child
	{
	border-left: none;
}

/* Remove border-right for the last column */
.collapse-table>tbody>tr>td:last-child, .collapse-table>tbody>tr>th:last-child
	{
	border-right: none;
}

.header {
	margin-top: 7px;
	text-align: center;
	font-size: 24px;
	font-weight: bolder;
	font-family: 'Times New Roman', Times, serif;
	line-height: 1.0;
}

.titleAddress {
	text-align: center;
	font-size: 14px;
	font-weight: 550;
	font-family: Arial, Helvetica, sans-serif;
	line-height: 1.0;
	margin-top: -10px;
	margin-bottom: 0px;
}

.termsConditions {
	text-align: left;
	font-size: 8px;
	font-weight: 550;
	font-family: Arial, Helvetica, sans-serif;
	line-height: 0.7;
}

.page-break {
    page-break-before: always;
}

</style>
</head>
<body>
	<p style="text-align: center; margin-bottom: 0px;">ESTIMATE</p>
	<table>
		<tr>
			<td colspan="2">
				<table class="collapse-table ">
					<!-- <thead>
						<tr>
							<th>Nested Header 1</th>
							<th>Nested Header 2</th>
							<th>Nested Header 3</th>
						</tr>
					</thead> -->
					<tbody>
						<tr>
							<td style="width: 33%;"><strong>To:</strong><span
								th:text="${ownerName}"></span></td>
							<td style="width: 33%;"><strong>KMs:</strong><span
								th:text="${kms}"></span></td>
							<td
								style="width: 33%; display: flex; justify-content: space-between; align-items: center;">
								<strong style="flex: 1; text-align: left;">Estimate No</strong> <span
								style="flex: 0; text-align: center;">:</span> <span
								style="flex: 1; text-align: right;" th:text="${estimateNo}"></span>
							</td>

						</tr>
						<tr>
							<td style="width: 33%;"><strong>Vehicle No:</strong><span
								th:text="${vehNo}"></span></td>
							<td style="width: 33%;"><strong>Next Free Check
									KMs:</strong><span th:text="${nextFreeCheckKms}"></span></td>
							<td
								style="width: 33%; display: flex; justify-content: space-between; align-items: center;">
								<strong style="flex: 1; text-align: left;">Date</strong> <span
								style="flex: 0; text-align: center;">:</span> <span
								style="flex: 1; text-align: right;" th:text="${date}"></span>
							</td>
						</tr>
						<tr>
							<td style="width: 33%;"><strong>Model:</strong><span
								th:text="${vehicle}"></span></td>
							<td style="width: 33%;"><strong>Next Service KMs:</strong><span
								th:text="${nextServiceKms}"></span></td>
							<td style="width: 33%;"><strong>Mode:</strong><span
								th:text="${mode}"></span></td>
						</tr>
					</tbody>
				</table>
			</td>

		</tr>

		<!-- Row 3: Nested table -->
		<tr>
			<td colspan="2">
				<table class="nested-table">
					<thead>
						<tr>
							<th style="width: 5%;">SNo</th>
							<th style="width: 50%;">Product Name</th>
							<th style="width: 10%;">HSN</th>
							<th style="width: 5%;">Qty</th>
							<th style="width: 10%;">Rate</th>
							<th style="width: 5%;">Discount</th>
							<th style="width: 15%;">Amount</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="product, indexStat : ${products}">
							<td th:text="${product.sno}"></td>
							<td th:text="${product.name}"></td>
							<td th:text="${product.hsnCode}"></td>
							<td th:text="${product.qty}"></td>
							<td th:text="${product.rate}"></td>
							<td th:text="${product.discount}"></td>
							<td th:text="${product.amount}"></td>
						</tr>
					</tbody>
				</table>
			</td>
		</tr>
		<div class="page-break" th:if="${pagebreak}"></div>
		
		<tr>
			<td colspan="2"
				style="width: 100%; text-align: right; font-size: 24px; font-weight: bolder;">Net
				Amount : <span th:text="${netAmount}"></span>
			</td>
		</tr>
		<tr>
			<td colspan="2"
				style="width: 100%; text-align: left; font-size: 18px; font-weight: bolder;">Amount
				in Words: <span th:text="${amountInWords}"></span>
			</td>
		</tr>
	</table>
</body>
</html>
